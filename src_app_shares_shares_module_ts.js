"use strict";(self.webpackChunkmifosx_web_app=self.webpackChunkmifosx_web_app||[]).push([["src_app_shares_shares_module_ts"],{75918:(Ya,E,l)=>{l.r(E),l.d(E,{SharesModule:()=>wa});var p=l(83689),H=l(13450);class K{constructor(o){this.setOptions(o),this.setButtons(o)}get singleButtons(){return this.buttonsArray}get options(){return this.optionArray}setButtons(o){switch(o){case"Active":this.buttonsArray=[{name:"Apply Additional Shares",icon:"fa fa-arrow-right",taskPermissionName:"APPLYADDITIONAL_SHAREACCOUNT"},{name:"Approve Additional Shares",icon:"fa fa-arrow-right",taskPermissionName:"APPROVEADDITIONAL_SHAREACCOUNT"},{name:"Reject Additional Shares",icon:"fa fa-arrow-left",taskPermissionName:"REJECTADDITIONAL_SHAREACCOUNT"},{name:"Redeem Shares",icon:"fa fa-arrow-left",taskPermissionName:"WITHDRAW_SAVINGSACCOUNT"}];break;case"Submitted and pending approval":this.buttonsArray=[{name:"Modify Application",icon:"fa fa-pencil ",taskPermissionName:"UPDATE_SHAREACCOUNT"},{name:"Approve",icon:"fa fa-check",taskPermissionName:"APPROVE_SHAREACCOUNT"}];break;case"Approved":this.buttonsArray=[{name:"Undo Approval",icon:"fa fa-undo",taskPermissionName:"APPROVALUNDO_SHAREACCOUNT"},{name:"Activate",icon:"fa fa-check",taskPermissionName:"ACTIVATE_SHAREACCOUNT"}];break;default:this.buttonsArray=[]}}setOptions(o){switch(o){case"Active":this.optionArray=[{name:"Close",taskPermissionName:"CLOSE_SHAREACCOUNT"}];break;case"Submitted and pending approval":this.optionArray=[{name:"Reject",taskPermissionName:"REJECT_SHAREACCOUNT"},{name:"Delete",taskPermissionName:"DELETE_SHAREACCOUNT"}];break;default:this.optionArray=[]}}addOption(o){this.optionArray.push(o)}removeButton(o){const a=this.buttonsArray.map(s=>s.name).indexOf(o);this.buttonsArray.splice(a,1)}}var t=l(94650),P=l(80529);let U=(()=>{class e{constructor(n){this.http=n}getSharesAccountData(n,a){const s=(new P.LE).set("template",a.toString());return this.http.get(`/accounts/share/${n}`,{params:s})}getSharesAccountTemplate(n,a){let s=(new P.LE).set("clientId",n);return s=a?s.set("productId",a):s,this.http.get("/accounts/share/template",{params:s})}createSharesAccount(n){return this.http.post("/accounts/share",n)}updateSharesAccount(n,a){return this.http.put(`/accounts/share/${n}`,a)}deleteSharesAccount(n){return this.http.delete(`/accounts/share/${n}`)}executeSharesAccountCommand(n,a,s){const r=(new P.LE).set("command",a);return this.http.post(`/accounts/share/${n}`,s,{params:r})}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(P.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Z=l(65412),f=l(36895),m=l(1576),w=l(55829),T=l(4859),h=l(73546),Y=l(28255),B=l(3848),I=l(10266),G=l(5510),tt=l(15705),et=l(30998),A=l(31195),k=l(87197),q=l(35769);function nt(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(n);const s=t.oxw().$implicit,r=t.oxw();return t.KtG(r.doAction(s.name))}),t._uU(1,"\n          "),t._UZ(2,"i"),t._uU(3),t.qZA()}if(2&e){const n=t.oxw().$implicit;t.xp6(2),t.Tol(n.icon),t.xp6(1),t.hij(" ",n.name,"")}}function at(e,o){if(1&e&&(t.ynx(0),t._uU(1,"\n        "),t.YNc(2,nt,4,4,"button",16),t._uU(3,"\n      "),t.BQk()),2&e){const n=o.$implicit;t.xp6(2),t.Q6J("mifosxHasPermission",n.taskPermissionName)}}function ot(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){t.CHM(n);const s=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.doAction(s.name))}),t._uU(1),t.qZA()}if(2&e){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.name)}}function st(e,o){if(1&e&&(t.TgZ(0,"span"),t._uU(1,"\n          "),t.YNc(2,ot,2,1,"button",20),t._uU(3,"\n        "),t.qZA()),2&e){const n=o.$implicit;t.xp6(2),t.Q6J("mifosxHasPermission",n.taskPermissionName)}}function rt(e,o){if(1&e&&(t.ynx(0),t._uU(1,"\n        "),t.TgZ(2,"button",18),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._uU(5,"\n        "),t.TgZ(6,"mat-menu",null,19),t._uU(8,"\n        "),t.YNc(9,st,4,1,"span",8),t._uU(10,"\n        "),t.qZA(),t._uU(11,"\n      "),t.BQk()),2&e){const n=t.MAs(7),a=t.oxw();t.xp6(2),t.Q6J("matMenuTriggerFor",n),t.xp6(1),t.Oqu(t.lcZ(4,3,"labels.heading.More")),t.xp6(6),t.Q6J("ngForOf",a.buttonConfig.options)}}function ct(e,o){if(1&e&&(t.TgZ(0,"td"),t._uU(1,"\n                "),t._UZ(2,"mifosx-external-identifier",22),t._uU(3,"\n              "),t.qZA()),2&e){const n=t.oxw();t.xp6(2),t.s9C("externalId",n.sharesAccountData.externalId)}}function it(e,o){1&e&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij("\n                ",t.lcZ(2,1,"labels.inputs.Unassigned"),"\n              "))}function ut(e,o){if(1&e&&(t.TgZ(0,"td"),t._uU(1,"\n                "),t._UZ(2,"mifosx-account-number",23),t._uU(3,"\n              "),t.qZA()),2&e){const n=t.oxw();t.xp6(2),t.s9C("accountNo",n.sharesAccountData.savingsAccountNumber)}}function lt(e,o){1&e&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij("\n                ",t.lcZ(2,1,"labels.inputs.Unassigned"),"\n              "))}const mt=function(){return["./transactions"]};function pt(e,o){if(1&e&&(t.TgZ(0,"a",24,25),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&e){const n=t.MAs(1);t.Q6J("routerLink",t.DdM(5,mt))("active",n.isActive),t.xp6(2),t.hij("\n      ",t.lcZ(3,3,"labels.inputs.Transactions"),"\n      ")}}const _t=function(){return["./charges"]};function ht(e,o){if(1&e&&(t.TgZ(0,"a",24,26),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&e){const n=t.MAs(1);t.Q6J("routerLink",t.DdM(5,_t))("active",n.isActive),t.xp6(2),t.hij("\n      ",t.lcZ(3,3,"labels.inputs.Charges"),"\n      ")}}const dt=function(){return["./dividends"]};function At(e,o){if(1&e&&(t.TgZ(0,"a",24,27),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&e){const n=t.MAs(1);t.Q6J("routerLink",t.DdM(5,dt))("active",n.isActive),t.xp6(2),t.hij("\n      ",t.lcZ(3,3,"labels.inputs.Dividends"),"\n      ")}}let gt=(()=>{class e{constructor(n,a,s,r){this.route=n,this.router=a,this.sharesService=s,this.dialog=r,this.route.data.subscribe(u=>{this.sharesAccountData=u.sharesAccountData})}ngOnInit(){this.setConditionalButtons()}setConditionalButtons(){const n=this.sharesAccountData.status.value;if(this.buttonConfig=new K(n),this.sharesAccountData.charges&&this.sharesAccountData.charges.forEach(s=>{"Annual fee - INR"===s.name&&this.buttonConfig.addOption({name:"Apply Anuual Fees",taskPermissionName:"APPLYANNUALFEE_SAVINGSACCOUNT"})}),"Active"===n){let s=!1;this.sharesAccountData.purchasedShares.forEach(r=>{"purchasedSharesStatusType.applied"===r.status.code&&"purchasedSharesType.purchased"===r.type.code&&(s=!0)}),s||(this.buttonConfig.removeButton("Approve Additional Shares"),this.buttonConfig.removeButton("Reject Additional Shares"))}}doAction(n){switch(n){case"Approve":case"Reject":case"Close":case"Activate":case"Undo Approval":case"Apply Additional Shares":case"Redeem Shares":case"Approve Additional Shares":case"Reject Additional Shares":this.router.navigate([`actions/${n}`],{relativeTo:this.route});break;case"Modify Application":this.router.navigate(["edit"],{relativeTo:this.route});break;case"Delete":this.deleteSharesAccount()}}deleteSharesAccount(){this.dialog.open(H.F,{data:{deleteContext:`shares account with id: ${this.sharesAccountData.id}`}}).afterClosed().subscribe(a=>{a.delete&&this.sharesService.deleteSharesAccount(this.sharesAccountData.id).subscribe(()=>{this.router.navigate(["../../"],{relativeTo:this.route})})})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(p.gz),t.Y36(p.F0),t.Y36(U),t.Y36(Z.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-shares-account-view"]],decls:158,vars:69,consts:[[1,"shares-account-card"],["fxLayout","column",1,"header"],[1,"header-title-group"],[1,"profile-image-container"],["mat-card-md-image","","src","assets/images/shares_account_placeholder.png",1,"profile-image",3,"matTooltip"],[1,"mat-typography","account-card-title"],[1,"fa","fa-stop",3,"ngClass","matTooltip"],[1,"account-actions"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"content"],["fxLayout","row","fxLayoutGap","2%",1,"shares-account-tables"],["fxFlex","49%"],[1,"table-headers"],["mat-tab-nav-bar","",1,"navigation-tabs"],["mat-tab-link","","routerLinkActive","",3,"routerLink","active",4,"mifosxHasPermission"],["mat-raised-button","",3,"click",4,"mifosxHasPermission"],["mat-raised-button","",3,"click"],["mat-raised-button","",3,"matMenuTriggerFor"],["More","matMenu"],["mat-menu-item","",3,"click",4,"mifosxHasPermission"],["mat-menu-item","",3,"click"],[3,"externalId"],[3,"accountNo"],["mat-tab-link","","routerLinkActive","",3,"routerLink","active"],["transactions","routerLinkActive"],["charges","routerLinkActive"],["dividends","routerLinkActive"]],template:function(n,a){1&n&&(t.TgZ(0,"mat-card",0),t._uU(1,"\n\n  "),t.TgZ(2,"mat-card-header",1),t._uU(3,"\n\n    "),t.TgZ(4,"mat-card-title-group",2),t._uU(5,"\n\n      "),t.TgZ(6,"div",3),t._uU(7,"\n        "),t.TgZ(8,"div"),t._uU(9,"\n          "),t._UZ(10,"img",4),t.ALo(11,"translate"),t._uU(12,"\n        "),t.qZA(),t._uU(13,"\n      "),t.qZA(),t._uU(14,"\n\n      "),t.TgZ(15,"div",5),t._uU(16,"\n        "),t.TgZ(17,"mat-card-title"),t._uU(18,"\n          "),t.TgZ(19,"h3"),t._uU(20,"\n            "),t._UZ(21,"i",6),t.ALo(22,"statusLookup"),t._uU(23),t.ALo(24,"translate"),t.qZA(),t._uU(25,"\n        "),t.qZA(),t._uU(26,"\n        "),t.TgZ(27,"mat-card-subtitle"),t._uU(28,"\n          "),t.TgZ(29,"p"),t._uU(30),t.ALo(31,"translate"),t.ALo(32,"translate"),t._UZ(33,"br"),t._uU(34),t.ALo(35,"translate"),t._UZ(36,"br"),t._uU(37),t.ALo(38,"translate"),t.qZA(),t._uU(39,"\n        "),t.qZA(),t._uU(40,"\n      "),t.qZA(),t._uU(41,"\n\n    "),t.qZA(),t._uU(42,"\n\n    "),t.TgZ(43,"mat-card-actions",7),t._uU(44,"\n\n      "),t.YNc(45,at,4,1,"ng-container",8),t._uU(46,"\n\n      "),t.YNc(47,rt,12,5,"ng-container",9),t._uU(48,"\n\n    "),t.qZA(),t._uU(49,"\n\n  "),t.qZA(),t._uU(50,"\n\n  "),t.TgZ(51,"mat-card-content",10),t._uU(52,"\n\n    "),t.TgZ(53,"div",11),t._uU(54,"\n\n      "),t.TgZ(55,"div",12),t._uU(56,"\n        "),t.TgZ(57,"h4",13),t._uU(58),t.ALo(59,"translate"),t.qZA(),t._uU(60,"\n        "),t.TgZ(61,"table"),t._uU(62,"\n          "),t.TgZ(63,"tbody"),t._uU(64,"\n            "),t.TgZ(65,"tr"),t._uU(66,"\n              "),t.TgZ(67,"td"),t._uU(68),t.ALo(69,"translate"),t.qZA(),t._uU(70,"\n              "),t.TgZ(71,"td"),t._uU(72),t.ALo(73,"dateFormat"),t.qZA(),t._uU(74,"\n            "),t.qZA(),t._uU(75,"\n            "),t.TgZ(76,"tr"),t._uU(77,"\n              "),t.TgZ(78,"td"),t._uU(79),t.ALo(80,"translate"),t.qZA(),t._uU(81,"\n              "),t.TgZ(82,"td"),t._uU(83),t.qZA(),t._uU(84,"\n            "),t.qZA(),t._uU(85,"\n            "),t.TgZ(86,"tr"),t._uU(87,"\n              "),t.TgZ(88,"td"),t._uU(89),t.ALo(90,"translate"),t.qZA(),t._uU(91,"\n              "),t.YNc(92,ct,4,1,"td",9),t._uU(93,"\n              "),t.YNc(94,it,3,3,"td",9),t._uU(95,"\n            "),t.qZA(),t._uU(96,"\n            "),t.TgZ(97,"tr"),t._uU(98,"\n              "),t.TgZ(99,"td"),t._uU(100),t.ALo(101,"translate"),t.qZA(),t._uU(102,"\n              "),t.YNc(103,ut,4,1,"td",9),t._uU(104,"\n              "),t.YNc(105,lt,3,3,"td",9),t._uU(106,"\n            "),t.qZA(),t._uU(107,"\n          "),t.qZA(),t._uU(108,"\n        "),t.qZA(),t._uU(109,"\n      "),t.qZA(),t._uU(110,"\n\n      "),t.TgZ(111,"div",12),t._uU(112,"\n        "),t.TgZ(113,"h4",13),t._uU(114),t.ALo(115,"translate"),t.qZA(),t._uU(116,"\n        "),t.TgZ(117,"table"),t._uU(118,"\n          "),t.TgZ(119,"tbody"),t._uU(120,"\n            "),t.TgZ(121,"tr"),t._uU(122,"\n              "),t.TgZ(123,"td"),t._uU(124),t.ALo(125,"translate"),t.qZA(),t._uU(126,"\n              "),t.TgZ(127,"td"),t._uU(128),t.qZA(),t._uU(129,"\n            "),t.qZA(),t._uU(130,"\n            "),t.TgZ(131,"tr"),t._uU(132,"\n              "),t.TgZ(133,"td"),t._uU(134),t.ALo(135,"translate"),t.qZA(),t._uU(136,"\n              "),t.TgZ(137,"td"),t._uU(138),t.qZA(),t._uU(139,"\n            "),t.qZA(),t._uU(140,"\n          "),t.qZA(),t._uU(141,"\n        "),t.qZA(),t._uU(142,"\n      "),t.qZA(),t._uU(143,"\n\n    "),t.qZA(),t._uU(144,"\n\n    "),t.TgZ(145,"nav",14),t._uU(146,"\n      "),t.YNc(147,pt,4,6,"a",15),t._uU(148,"\n      "),t.YNc(149,ht,4,6,"a",15),t._uU(150,"\n      "),t.YNc(151,At,4,6,"a",15),t._uU(152,"\n    "),t.qZA(),t._uU(153,"\n\n    "),t._UZ(154,"router-outlet"),t._uU(155,"\n\n  "),t.qZA(),t._uU(156,"\n\n"),t.qZA(),t._uU(157,"\n")),2&n&&(t.xp6(10),t.s9C("matTooltip",t.lcZ(11,37,"tooltips.Shares Account")),t.xp6(11),t.Q6J("ngClass",t.lcZ(22,39,a.sharesAccountData.status.code))("matTooltip",a.sharesAccountData.status.value),t.xp6(2),t.AsE("\n            ",t.lcZ(24,41,"labels.heading.Account Name")," : ",a.sharesAccountData.productName,"\n          "),t.xp6(7),t.HOy("\n            ",t.lcZ(31,43,"labels.inputs.Account")," #: ",a.sharesAccountData.accountNo," | ",t.lcZ(32,45,"labels.inputs.Client Name"),": ",a.sharesAccountData.clientName,""),t.xp6(4),t.lnq("\n            ",t.lcZ(35,47,"labels.inputs.Current Market Price"),": ",a.sharesAccountData.currency.displaySymbol,"\xa0",a.sharesAccountData.currentMarketPrice,""),t.xp6(3),t.lnq("\n            ",t.lcZ(38,49,"labels.inputs.Lockin Period"),": ",a.sharesAccountData.lockinPeriod?a.sharesAccountData.lockinPeriod:"N/A","\n            ",a.sharesAccountData.lockinPeriod?a.sharesAccountData.lockPeriodTypeEnum.value:"","\n          "),t.xp6(8),t.Q6J("ngForOf",a.buttonConfig.singleButtons),t.xp6(2),t.Q6J("ngIf",a.buttonConfig.options.length),t.xp6(11),t.Oqu(t.lcZ(59,51,"labels.heading.Shares Details")),t.xp6(10),t.Oqu(t.lcZ(69,53,"labels.inputs.Activated On")),t.xp6(4),t.Oqu(a.sharesAccountData.timeline.activatedOnDate?t.lcZ(73,55,a.sharesAccountData.timeline.activatedOnDate):"Not Activated"),t.xp6(7),t.Oqu(t.lcZ(80,57,"labels.inputs.Currency")),t.xp6(4),t.AsE("",a.sharesAccountData.currency.name," [",a.sharesAccountData.currency.code,"]"),t.xp6(6),t.Oqu(t.lcZ(90,59,"labels.inputs.External Id")),t.xp6(3),t.Q6J("ngIf",a.sharesAccountData.externalId),t.xp6(2),t.Q6J("ngIf",!a.sharesAccountData.externalId),t.xp6(6),t.Oqu(t.lcZ(101,61,"labels.inputs.Linked Savings Account(Dividend Posting)")),t.xp6(3),t.Q6J("ngIf",a.sharesAccountData.savingsAccountNumber),t.xp6(2),t.Q6J("ngIf",!a.sharesAccountData.savingsAccountNumber),t.xp6(9),t.Oqu(t.lcZ(115,63,"labels.heading.Account Summary")),t.xp6(10),t.Oqu(t.lcZ(125,65,"labels.inputs.Approved Shares")),t.xp6(4),t.Oqu(a.sharesAccountData.summary.totalApprovedShares),t.xp6(6),t.Oqu(t.lcZ(135,67,"labels.inputs.Pending for Approval Shares")),t.xp6(4),t.Oqu(a.sharesAccountData.summary.totalPendingForApprovalShares),t.xp6(9),t.Q6J("mifosxHasPermission","READ_SHAREACCOUNTPURCHASE"),t.xp6(2),t.Q6J("mifosxHasPermission","READ_SHAREACCOUNTCHARGE"),t.xp6(2),t.Q6J("mifosxHasPermission","READ_SHAREACCOUNTDIVIDENDS"))},dependencies:[f.mk,f.sg,f.O5,m.xw,m.SQ,m.yH,w.oO,T.lW,h.a8,h.dk,h.C1,h.dn,h.n5,h.$j,h.hq,h.nc,Y.VK,Y.OP,Y.p6,B.BU,B.Nj,I.gM,G.e,tt.t,et.A,p.lC,p.yS,p.Od,A.X$,k.F,q.E],styles:[".shares-account-card[_ngcontent-%COMP%]{margin:0 auto;max-width:80rem;width:90%;padding:0}.shares-account-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding:1%}.shares-account-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-title-group[_ngcontent-%COMP%]   .account-card-title[_ngcontent-%COMP%]{color:#fff;width:90%}.shares-account-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-title-group[_ngcontent-%COMP%]   .account-card-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.shares-account-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .profile-image-container[_ngcontent-%COMP%]{margin:1%}.shares-account-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .profile-image-container[_ngcontent-%COMP%]   .profile-image[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;border-radius:20px}.shares-account-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .account-actions[_ngcontent-%COMP%]{align-self:flex-end;margin:0 1%}.shares-account-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .account-actions[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-bottom:2px;margin-right:4px}.shares-account-card[_ngcontent-%COMP%]   .navigation-tabs[_ngcontent-%COMP%]{background-color:#f2f2f2;overflow:auto}.shares-account-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .shares-account-tables[_ngcontent-%COMP%]{padding:1%;margin:1%}.shares-account-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .shares-account-tables[_ngcontent-%COMP%]   .table-headers[_ngcontent-%COMP%]{margin:0;padding:6px}.shares-account-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .shares-account-tables[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:3px}.shares-account-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .shares-account-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),e})();var i=l(30671);function ft(e,o){1&e&&(t.TgZ(0,"th",14),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"labels.inputs.Transaction Date")," "))}function Ut(e,o){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.ALo(2,"dateFormat"),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,n.purchasedDate)," ")}}function Zt(e,o){1&e&&(t.TgZ(0,"th",14),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"labels.inputs.Transaction Type")," "))}function Tt(e,o){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.AsE(" ",n.type.value," ","Charge Payment"!==n.type.value?"("+n.status.value+")":"","")}}function Ct(e,o){1&e&&(t.TgZ(0,"th",14),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"labels.inputs.Total Shares")," "))}function xt(e,o){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.numberOfShares," ")}}function St(e,o){1&e&&(t.TgZ(0,"th",14),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"labels.inputs.Purhcased/Redeemed Price")," "))}function vt(e,o){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const n=o.$implicit,a=t.oxw();t.xp6(1),t.AsE("",a.shareAccountData.currency.displaySymbol,"\xa0",n.purchasedPrice,"")}}function bt(e,o){1&e&&(t.TgZ(0,"th",14),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"labels.inputs.Charge Amount")," "))}function qt(e,o){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const n=o.$implicit,a=t.oxw();t.xp6(1),t.AsE("",a.shareAccountData.currency.displaySymbol,"\xa0","Charge Payment"===n.type.value?n.amount:n.chargeAmount,"")}}function Dt(e,o){1&e&&(t.TgZ(0,"th",14),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"labels.inputs.Amount Recieved/Returned")," "))}function yt(e,o){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const n=o.$implicit,a=t.oxw();t.xp6(1),t.AsE("",a.shareAccountData.currency.displaySymbol,"\xa0",n.amount,"")}}function Pt(e,o){1&e&&t._UZ(0,"tr",16)}function Lt(e,o){1&e&&t._UZ(0,"tr",17)}let Ot=(()=>{class e{constructor(n){this.route=n,this.displayedColumns=["transactionDate","transactionType","totalShares","purchasedOrRedeemedPrice","chargeAmount","amountRecievedOrReturned"],this.route.parent.data.subscribe(a=>{this.shareAccountData=a.sharesAccountData,this.transactionsData=this.shareAccountData.purchasedShares})}ngOnInit(){this.dataSource=new i.by(this.transactionsData)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(p.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-transactions-tab"]],decls:62,vars:6,consts:[[1,"tab-container","mat-typography"],[1,"m-b-10"],[1,"mat-elevation-z1","m-b-25"],["mat-table","",3,"dataSource"],["matColumnDef","transactionDate"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","transactionType"],["matColumnDef","totalShares"],["matColumnDef","purchasedOrRedeemedPrice"],["matColumnDef","chargeAmount"],["matColumnDef","amountRecievedOrReturned"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(n,a){1&n&&(t.TgZ(0,"div",0),t._uU(1,"\n\n  "),t.TgZ(2,"div",1),t._uU(3,"\n    "),t.TgZ(4,"h3"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._uU(7,"\n  "),t.qZA(),t._uU(8,"\n\n  "),t.TgZ(9,"div",2),t._uU(10,"\n\n    "),t.TgZ(11,"table",3),t._uU(12,"\n\n      "),t.ynx(13,4),t._uU(14,"\n        "),t.YNc(15,ft,3,3,"th",5),t._uU(16,"\n        "),t.YNc(17,Ut,3,3,"td",6),t._uU(18,"\n      "),t.BQk(),t._uU(19,"\n\n      "),t.ynx(20,7),t._uU(21,"\n        "),t.YNc(22,Zt,3,3,"th",5),t._uU(23,"\n        "),t.YNc(24,Tt,2,2,"td",6),t._uU(25,"\n      "),t.BQk(),t._uU(26,"\n\n      "),t.ynx(27,8),t._uU(28,"\n        "),t.YNc(29,Ct,3,3,"th",5),t._uU(30,"\n        "),t.YNc(31,xt,2,1,"td",6),t._uU(32,"\n      "),t.BQk(),t._uU(33,"\n\n      "),t.ynx(34,9),t._uU(35,"\n        "),t.YNc(36,St,3,3,"th",5),t._uU(37,"\n        "),t.YNc(38,vt,2,2,"td",6),t._uU(39,"\n      "),t.BQk(),t._uU(40,"\n\n      "),t.ynx(41,10),t._uU(42,"\n        "),t.YNc(43,bt,3,3,"th",5),t._uU(44,"\n        "),t.YNc(45,qt,2,2,"td",6),t._uU(46,"\n      "),t.BQk(),t._uU(47,"\n\n      "),t.ynx(48,11),t._uU(49,"\n        "),t.YNc(50,Dt,3,3,"th",5),t._uU(51,"\n        "),t.YNc(52,yt,2,2,"td",6),t._uU(53,"\n      "),t.BQk(),t._uU(54,"\n\n      "),t.YNc(55,Pt,1,0,"tr",12),t._uU(56,"\n      "),t.YNc(57,Lt,1,0,"tr",13),t._uU(58,"\n\n    "),t.qZA(),t._uU(59,"\n\n  "),t.qZA(),t._uU(60,"\n\n"),t.qZA(),t._uU(61,"\n")),2&n&&(t.xp6(5),t.Oqu(t.lcZ(6,4,"labels.heading.All Transactions")),t.xp6(6),t.Q6J("dataSource",a.dataSource),t.xp6(44),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(2),t.Q6J("matRowDefColumns",a.displayedColumns))},dependencies:[i.BZ,i.fO,i.as,i.w1,i.Dz,i.nj,i.ge,i.ev,i.XQ,i.Gk,A.X$,q.E],styles:[".tab-container[_ngcontent-%COMP%]{padding:1%;margin:1%}.tab-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:1% auto}.tab-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}"]}),e})();function Ft(e,o){1&e&&(t.TgZ(0,"th",16),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"labels.inputs.name")," "))}function Nt(e,o){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.name," ")}}function wt(e,o){1&e&&(t.TgZ(0,"th",16),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"labels.inputs.Fee/Penalty")," "))}function Yt(e,o){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",!0===n.penalty?"Penalty":"Fee"," ")}}function It(e,o){1&e&&(t.TgZ(0,"th",16),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"labels.inputs.Payment Due At")," "))}function kt(e,o){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.chargeTimeType.value," ")}}function Qt(e,o){1&e&&(t.TgZ(0,"th",16),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"labels.inputs.Calculation Type")," "))}function Mt(e,o){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.chargeCalculationType.value," ")}}function Rt(e,o){1&e&&(t.TgZ(0,"th",16),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"labels.inputs.Due")," "))}function jt(e,o){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.AsE(" ",n.currency.displaySymbol,"\xa0",n.amount," ")}}function Jt(e,o){1&e&&(t.TgZ(0,"th",16),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"labels.inputs.Paid")," "))}function Et(e,o){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.AsE(" ",n.currency.displaySymbol,"\xa0",n.amountPaid," ")}}function Ht(e,o){1&e&&(t.TgZ(0,"th",16),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"labels.inputs.Waived")," "))}function Bt(e,o){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.AsE(" ",n.currency.displaySymbol,"\xa0",n.amountWaived," ")}}function Gt(e,o){1&e&&(t.TgZ(0,"th",16),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"labels.inputs.Outstanding")," "))}function $t(e,o){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.AsE(" ",n.currency.displaySymbol,"\xa0",n.amountOutstanding," ")}}function zt(e,o){1&e&&t._UZ(0,"tr",18)}function Xt(e,o){1&e&&t._UZ(0,"tr",19)}let Vt=(()=>{class e{constructor(n){this.route=n,this.displayedColumns=["name","feeOrPenalty","paymentDueAt","calculationType","due","paid","waived","outstanding"],this.route.parent.data.subscribe(a=>{this.sharesAccountData=a.sharesAccountData,this.chargesData=this.sharesAccountData.charges})}ngOnInit(){const n=this.chargesData?this.chargesData.filter(a=>a.isActive):[];this.dataSource=new i.by(n)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(p.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-charges-tab"]],decls:76,vars:6,consts:[[1,"tab-container","mat-typography"],[1,"m-b-10"],[1,"mat-elevation-z1","m-b-25"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","feeOrPenalty"],["matColumnDef","paymentDueAt"],["matColumnDef","calculationType"],["matColumnDef","due"],["matColumnDef","paid"],["matColumnDef","waived"],["matColumnDef","outstanding"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(n,a){1&n&&(t.TgZ(0,"div",0),t._uU(1,"\n\n  "),t.TgZ(2,"div",1),t._uU(3,"\n    "),t.TgZ(4,"h3"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._uU(7,"\n  "),t.qZA(),t._uU(8,"\n\n  "),t.TgZ(9,"div",2),t._uU(10,"\n\n    "),t.TgZ(11,"table",3),t._uU(12,"\n\n      "),t.ynx(13,4),t._uU(14,"\n        "),t.YNc(15,Ft,3,3,"th",5),t._uU(16,"\n        "),t.YNc(17,Nt,2,1,"td",6),t._uU(18,"\n      "),t.BQk(),t._uU(19,"\n\n      "),t.ynx(20,7),t._uU(21,"\n        "),t.YNc(22,wt,3,3,"th",5),t._uU(23,"\n        "),t.YNc(24,Yt,2,1,"td",6),t._uU(25,"\n      "),t.BQk(),t._uU(26,"\n\n      "),t.ynx(27,8),t._uU(28,"\n        "),t.YNc(29,It,3,3,"th",5),t._uU(30,"\n        "),t.YNc(31,kt,2,1,"td",6),t._uU(32,"\n      "),t.BQk(),t._uU(33,"\n\n      "),t.ynx(34,9),t._uU(35,"\n        "),t.YNc(36,Qt,3,3,"th",5),t._uU(37,"\n        "),t.YNc(38,Mt,2,1,"td",6),t._uU(39,"\n      "),t.BQk(),t._uU(40,"\n\n      "),t.ynx(41,10),t._uU(42,"\n        "),t.YNc(43,Rt,3,3,"th",5),t._uU(44,"\n        "),t.YNc(45,jt,2,2,"td",6),t._uU(46,"\n      "),t.BQk(),t._uU(47,"\n\n      "),t.ynx(48,11),t._uU(49,"\n        "),t.YNc(50,Jt,3,3,"th",5),t._uU(51,"\n        "),t.YNc(52,Et,2,2,"td",6),t._uU(53,"\n      "),t.BQk(),t._uU(54,"\n\n      "),t.ynx(55,12),t._uU(56,"\n        "),t.YNc(57,Ht,3,3,"th",5),t._uU(58,"\n        "),t.YNc(59,Bt,2,2,"td",6),t._uU(60,"\n      "),t.BQk(),t._uU(61,"\n\n      "),t.ynx(62,13),t._uU(63,"\n        "),t.YNc(64,Gt,3,3,"th",5),t._uU(65,"\n        "),t.YNc(66,$t,2,2,"td",6),t._uU(67,"\n      "),t.BQk(),t._uU(68,"\n\n      "),t.YNc(69,zt,1,0,"tr",14),t._uU(70,"\n      "),t.YNc(71,Xt,1,0,"tr",15),t._uU(72,"\n\n    "),t.qZA(),t._uU(73,"\n\n  "),t.qZA(),t._uU(74,"\n\n"),t.qZA(),t._uU(75,"\n")),2&n&&(t.xp6(5),t.Oqu(t.lcZ(6,4,"labels.heading.All Charges")),t.xp6(6),t.Q6J("dataSource",a.dataSource),t.xp6(58),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(2),t.Q6J("matRowDefColumns",a.displayedColumns))},dependencies:[i.BZ,i.fO,i.as,i.w1,i.Dz,i.nj,i.ge,i.ev,i.XQ,i.Gk,A.X$],styles:[".tab-container[_ngcontent-%COMP%]{padding:1%;margin:1%}.tab-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:1% auto}.tab-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}"]}),e})();function Wt(e,o){1&e&&(t.TgZ(0,"th",12),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"labels.inputs.Transaction Date")," "))}function Kt(e,o){if(1&e&&(t.TgZ(0,"td",13),t._uU(1),t.ALo(2,"dateFormat"),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,n.postedDate)," ")}}function te(e,o){1&e&&(t.TgZ(0,"th",12),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"labels.inputs.Amount")," "))}function ee(e,o){if(1&e&&(t.TgZ(0,"td",13),t._uU(1),t.qZA()),2&e){const n=o.$implicit,a=t.oxw();t.xp6(1),t.AsE(" ",a.shareAccountData.currency.displaySymbol,"\xa0",n.amount," ")}}function ne(e,o){1&e&&(t.TgZ(0,"th",12),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"labels.inputs.Transaction Reference")," "))}function ae(e,o){if(1&e&&(t.TgZ(0,"td",13),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.savingsTransactionId," ")}}function oe(e,o){1&e&&(t.TgZ(0,"th",12),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"labels.inputs.Status")," "))}function se(e,o){if(1&e&&(t.TgZ(0,"td",13),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.status.value," ")}}function re(e,o){1&e&&t._UZ(0,"tr",14)}function ce(e,o){1&e&&t._UZ(0,"tr",15)}let ie=(()=>{class e{constructor(n){this.route=n,this.displayedColumns=["transactionDate","amount","transactionReference","status"],this.route.parent.data.subscribe(a=>{this.shareAccountData=a.sharesAccountData,this.dividendsData=this.shareAccountData.dividends})}ngOnInit(){this.dataSource=new i.by(this.dividendsData)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(p.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-dividends-tab"]],decls:48,vars:6,consts:[[1,"tab-container","mat-typography"],[1,"m-b-10"],[1,"mat-elevation-z1","m-b-25"],["mat-table","",3,"dataSource"],["matColumnDef","transactionDate"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","amount"],["matColumnDef","transactionReference"],["matColumnDef","status"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(n,a){1&n&&(t.TgZ(0,"div",0),t._uU(1,"\n\n  "),t.TgZ(2,"div",1),t._uU(3,"\n    "),t.TgZ(4,"h3"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._uU(7,"\n  "),t.qZA(),t._uU(8,"\n\n  "),t.TgZ(9,"div",2),t._uU(10,"\n\n    "),t.TgZ(11,"table",3),t._uU(12,"\n\n      "),t.ynx(13,4),t._uU(14,"\n        "),t.YNc(15,Wt,3,3,"th",5),t._uU(16,"\n        "),t.YNc(17,Kt,3,3,"td",6),t._uU(18,"\n      "),t.BQk(),t._uU(19,"\n\n      "),t.ynx(20,7),t._uU(21,"\n        "),t.YNc(22,te,3,3,"th",5),t._uU(23,"\n        "),t.YNc(24,ee,2,2,"td",6),t._uU(25,"\n      "),t.BQk(),t._uU(26,"\n\n      "),t.ynx(27,8),t._uU(28,"\n        "),t.YNc(29,ne,3,3,"th",5),t._uU(30,"\n        "),t.YNc(31,ae,2,1,"td",6),t._uU(32,"\n      "),t.BQk(),t._uU(33,"\n\n      "),t.ynx(34,9),t._uU(35,"\n        "),t.YNc(36,oe,3,3,"th",5),t._uU(37,"\n        "),t.YNc(38,se,2,1,"td",6),t._uU(39,"\n      "),t.BQk(),t._uU(40,"\n\n      "),t.YNc(41,re,1,0,"tr",10),t._uU(42,"\n      "),t.YNc(43,ce,1,0,"tr",11),t._uU(44,"\n\n    "),t.qZA(),t._uU(45,"\n\n  "),t.qZA(),t._uU(46,"\n\n"),t.qZA(),t._uU(47,"\n")),2&n&&(t.xp6(5),t.Oqu(t.lcZ(6,4,"labels.inputs.All Dividends")),t.xp6(6),t.Q6J("dataSource",a.dataSource),t.xp6(30),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(2),t.Q6J("matRowDefColumns",a.displayedColumns))},dependencies:[i.BZ,i.fO,i.as,i.w1,i.Dz,i.nj,i.ge,i.ev,i.XQ,i.Gk,A.X$,q.E],styles:[".tab-container[_ngcontent-%COMP%]{padding:1%;margin:1%}.tab-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:1% auto}.tab-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}"]}),e})();var c=l(24006),x=l(99639),D=l(92216),Q=l(3238),d=l(99602),_=l(59549),S=l(284),M=l(84385),C=l(58425);function ue(e,o){if(1&e&&(t.TgZ(0,"mat-option",15),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.Q6J("value",n.id),t.xp6(1),t.hij("\n          ",n.name,"\n        ")}}let L=(()=>{class e{constructor(n,a,s){this.formBuilder=n,this.sharesService=a,this.settingsService=s,this.minDate=new Date(2e3,0,1),this.maxDate=new Date,this.sharesAccountProductTemplate=new t.vpe,this.createSharesAccountDetailsForm()}ngOnInit(){this.maxDate=this.settingsService.businessDate,this.buildDependencies(),this.sharesAccountTemplate&&(this.productData=this.sharesAccountTemplate.productOptions,this.sharesAccountTemplate.productId&&this.sharesAccountDetailsForm.patchValue({productId:this.sharesAccountTemplate.productId,submittedDate:this.sharesAccountTemplate.timeline.submittedOnDate&&new Date(this.sharesAccountTemplate.timeline.submittedOnDate),externalId:this.sharesAccountTemplate.externalId}))}createSharesAccountDetailsForm(){this.sharesAccountDetailsForm=this.formBuilder.group({productId:["",c.kI.required],submittedDate:["",c.kI.required],externalId:[""]})}buildDependencies(){const n=this.sharesAccountTemplate.clientId;this.sharesAccountDetailsForm.get("productId").valueChanges.subscribe(a=>{this.sharesService.getSharesAccountTemplate(n,a).subscribe(s=>{this.sharesAccountProductTemplate.emit(s)})})}get sharesAccountDetails(){return this.sharesAccountDetailsForm.value}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(c.QS),t.Y36(U),t.Y36(x.g))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-shares-account-details-step"]],inputs:{sharesAccountTemplate:"sharesAccountTemplate"},outputs:{sharesAccountProductTemplate:"sharesAccountProductTemplate"},decls:74,vars:39,consts:[[3,"formGroup"],["fxLayout","row wrap","fxLayoutGap","2%","fxLayout.lt-md","column"],["fxFlex","48%"],["formControlName","productId","required",""],[3,"value",4,"ngFor","ngForOf"],["fxFlex","48%",3,"click"],["matInput","","formControlName","submittedDate","required","",3,"min","max","matDatepicker"],["matSuffix","",3,"for"],["submittedOnDatePicker",""],["matInput","","formControlName","externalId"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","center","fxLayoutGap","2%",1,"margin-t"],["mat-raised-button","","matStepperPrevious","","disabled",""],["icon","arrow-left",1,"m-r-10"],["mat-raised-button","","matStepperNext",""],["icon","arrow-right",1,"m-l-10"],[3,"value"]],template:function(n,a){if(1&n){const s=t.EpF();t.TgZ(0,"form",0),t._uU(1,"\n\n  "),t.TgZ(2,"div",1),t._uU(3,"\n\n    "),t.TgZ(4,"mat-form-field",2),t._uU(5,"\n      "),t.TgZ(6,"mat-label"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t._uU(9,"\n      "),t.TgZ(10,"mat-select",3),t._uU(11,"\n        "),t.YNc(12,ue,2,2,"mat-option",4),t._uU(13,"\n      "),t.qZA(),t._uU(14,"\n      "),t.TgZ(15,"mat-error"),t._uU(16),t.ALo(17,"translate"),t.ALo(18,"translate"),t.TgZ(19,"strong"),t._uU(20),t.ALo(21,"translate"),t.qZA(),t._uU(22,"\n      "),t.qZA(),t._uU(23,"\n    "),t.qZA(),t._uU(24,"\n\n    "),t.TgZ(25,"mat-form-field",5),t.NdJ("click",function(){t.CHM(s);const u=t.MAs(36);return t.KtG(u.open())}),t._uU(26,"\n      "),t.TgZ(27,"mat-label"),t._uU(28),t.ALo(29,"translate"),t.qZA(),t._uU(30,"\n      "),t._UZ(31,"input",6),t._uU(32,"\n      "),t._UZ(33,"mat-datepicker-toggle",7),t._uU(34,"\n      "),t._UZ(35,"mat-datepicker",null,8),t._uU(37,"\n      "),t.TgZ(38,"mat-error"),t._uU(39),t.ALo(40,"translate"),t.ALo(41,"translate"),t.TgZ(42,"strong"),t._uU(43),t.ALo(44,"translate"),t.qZA(),t._uU(45,"\n      "),t.qZA(),t._uU(46,"\n    "),t.qZA(),t._uU(47,"\n\n    "),t.TgZ(48,"mat-form-field",2),t._uU(49,"\n      "),t.TgZ(50,"mat-label"),t._uU(51),t.ALo(52,"translate"),t.qZA(),t._uU(53,"\n      "),t._UZ(54,"input",9),t._uU(55,"\n    "),t.qZA(),t._uU(56,"\n\n  "),t.qZA(),t._uU(57,"\n\n  "),t.TgZ(58,"div",10),t._uU(59,"\n    "),t.TgZ(60,"button",11),t._uU(61,"\n      "),t._UZ(62,"fa-icon",12),t._uU(63),t.ALo(64,"translate"),t.qZA(),t._uU(65,"\n    "),t.TgZ(66,"button",13),t._uU(67),t.ALo(68,"translate"),t._UZ(69,"fa-icon",14),t._uU(70,"\n    "),t.qZA(),t._uU(71,"\n  "),t.qZA(),t._uU(72,"\n\n"),t.qZA(),t._uU(73,"\n")}if(2&n){const s=t.MAs(36);t.Q6J("formGroup",a.sharesAccountDetailsForm),t.xp6(7),t.Oqu(t.lcZ(8,17,"labels.inputs.Product Name")),t.xp6(5),t.Q6J("ngForOf",a.productData),t.xp6(4),t.AsE("\n        ",t.lcZ(17,19,"labels.inputs.Product Name")," ",t.lcZ(18,21,"labels.commons.is")," "),t.xp6(4),t.Oqu(t.lcZ(21,23,"labels.commons.required")),t.xp6(8),t.Oqu(t.lcZ(29,25,"labels.inputs.Submitted On")),t.xp6(3),t.Q6J("min",a.minDate)("max",a.maxDate)("matDatepicker",s),t.xp6(2),t.Q6J("for",s),t.xp6(6),t.AsE("\n        ",t.lcZ(40,27,"labels.inputs.Submission Date")," ",t.lcZ(41,29,"labels.commons.is")," "),t.xp6(4),t.Oqu(t.lcZ(44,31,"labels.commons.required")),t.xp6(8),t.Oqu(t.lcZ(52,33,"labels.inputs.External ID")),t.xp6(12),t.hij("\n      ",t.lcZ(64,35,"labels.buttons.Previous"),"\n    "),t.xp6(4),t.hij("\n      ",t.lcZ(68,37,"labels.buttons.Next"),"\n      ")}},dependencies:[f.sg,D.BN,m.xw,m.SQ,m.Wh,m.yH,Q.ey,T.lW,d.Mq,d.hl,d.nW,_.TO,_.KE,_.hX,_.R9,S.Nt,M.gD,C.Ic,C.fd,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.sg,c.u,A.X$]}),e})();var le=l(56709);function me(e,o){if(1&e&&(t.TgZ(0,"mat-option",25),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.Q6J("value",n.id),t.xp6(1),t.hij("\n          ",n.accountNo,"\n        ")}}function pe(e,o){if(1&e&&(t.TgZ(0,"mat-option",25),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.Q6J("value",n.id),t.xp6(1),t.hij("\n          ",n.value,"\n        ")}}function _e(e,o){if(1&e&&(t.TgZ(0,"mat-option",25),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.Q6J("value",n.id),t.xp6(1),t.hij("\n          ",n.value,"\n        ")}}let O=(()=>{class e{constructor(n,a){this.formBuilder=n,this.settingsService=a,this.minDate=new Date(2e3,0,1),this.maxDate=new Date,this.isSavingsPatched=!1,this.createSharesAccountTermsForm()}ngOnChanges(){this.sharesAccountProductTemplate&&(this.sharesAccountTermsForm.patchValue({currencyCode:this.sharesAccountProductTemplate.currency.code,decimal:this.sharesAccountProductTemplate.currency.decimalPlaces,currencyMultiple:this.sharesAccountProductTemplate.currency.inMultiplesOf,unitPrice:this.sharesAccountProductTemplate.currentMarketPrice,savingsAccountId:""}),this.setOptions(),this.sharesAccountTemplate&&!this.isSavingsPatched&&this.sharesAccountTemplate.savingsAccountId&&(this.sharesAccountTermsForm.get("savingsAccountId").patchValue(this.sharesAccountTemplate.savingsAccountId),this.isSavingsPatched=!0))}ngOnInit(){this.maxDate=this.settingsService.businessDate,this.sharesAccountTemplate&&this.sharesAccountTermsForm.patchValue({requestedShares:this.sharesAccountTemplate.summary.totalPendingForApprovalShares,minimumActivePeriod:this.sharesAccountTemplate.minimumActivePeriod,minimumActivePeriodFrequencyType:this.sharesAccountTemplate.minimumActivePeriod&&this.sharesAccountTemplate.minimumActivePeriodTypeEnum.id,lockinPeriodFrequency:this.sharesAccountTemplate.lockinPeriod,lockinPeriodFrequencyType:this.sharesAccountTemplate.lockinPeriod&&this.sharesAccountTemplate.lockPeriodTypeEnum.id,applicationDate:this.sharesAccountTemplate.purchasedShares[0].purchasedDate&&new Date(this.sharesAccountTemplate.purchasedShares[0].purchasedDate),allowDividendCalculationForInactiveClients:this.sharesAccountTemplate.allowDividendCalculationForInactiveClients})}createSharesAccountTermsForm(){this.sharesAccountTermsForm=this.formBuilder.group({currencyCode:[{value:"",disabled:!0}],decimal:[{value:"",disabled:!0}],requestedShares:["",c.kI.required],unitPrice:[{value:"",disabled:!0}],currencyMultiple:[{value:"",disabled:!0}],savingsAccountId:["",c.kI.required],minimumActivePeriod:[""],minimumActivePeriodFrequencyType:[""],lockinPeriodFrequency:[""],lockinPeriodFrequencyType:[""],applicationDate:["",c.kI.required],allowDividendCalculationForInactiveClients:[!1]})}setOptions(){this.minimumActivePeriodFrequencyTypeData=this.sharesAccountProductTemplate.minimumActivePeriodFrequencyTypeOptions,this.lockinPeriodFrequencyTypeData=this.sharesAccountProductTemplate.lockinPeriodFrequencyTypeOptions,this.savingsAccountsData=this.sharesAccountProductTemplate.clientSavingsAccounts}get sharesAccountTerms(){return this.sharesAccountTermsForm.value}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(c.QS),t.Y36(x.g))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-shares-account-terms-step"]],inputs:{sharesAccountProductTemplate:"sharesAccountProductTemplate",sharesAccountTemplate:"sharesAccountTemplate"},features:[t.TTD],decls:172,vars:80,consts:[[3,"formGroup"],["fxLayout","row wrap","fxLayoutGap","2%","fxLayout.lt-md","column","fxLayoutAlign.gt-sm","start center"],["fxFlex","48%"],["matInput","","formControlName","currencyCode"],["type","number","matInput","","formControlName","decimal"],["type","number","matInput","","formControlName","requestedShares","required",""],["type","number","matInput","","formControlName","unitPrice"],["type","number","matInput","","formControlName","currencyMultiple"],["formControlName","savingsAccountId","required",""],[3,"value",4,"ngFor","ngForOf"],["fxFlex","48%",3,"click"],["matInput","","formControlName","applicationDate","required","",3,"min","max","matDatepicker"],["matSuffix","",3,"for"],["applicationDatePicker",""],["labelPosition","before","formControlName","allowDividendCalculationForInactiveClients","fxFlex","48%"],["fxFlex","98%",1,"mat-h4"],["type","number","matInput","","formControlName","minimumActivePeriod"],["formControlName","minimumActivePeriodFrequencyType"],["type","number","matInput","","formControlName","lockinPeriodFrequency"],["formControlName","lockinPeriodFrequencyType"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","center","fxLayoutGap","2%",1,"margin-t"],["mat-raised-button","","matStepperPrevious","","disabled",""],["icon","arrow-left",1,"m-r-10"],["mat-raised-button","","matStepperNext",""],["icon","arrow-right",1,"m-l-10"],[3,"value"]],template:function(n,a){if(1&n){const s=t.EpF();t.TgZ(0,"form",0),t._uU(1,"\n\n  "),t.TgZ(2,"div",1),t._uU(3,"\n\n    "),t.TgZ(4,"mat-form-field",2),t._uU(5,"\n      "),t.TgZ(6,"mat-label"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t._uU(9,"\n      "),t._UZ(10,"input",3),t._uU(11,"\n    "),t.qZA(),t._uU(12,"\n\n    "),t.TgZ(13,"mat-form-field",2),t._uU(14,"\n      "),t.TgZ(15,"mat-label"),t._uU(16),t.ALo(17,"translate"),t.qZA(),t._uU(18,"\n      "),t._UZ(19,"input",4),t._uU(20,"\n    "),t.qZA(),t._uU(21,"\n\n    "),t.TgZ(22,"mat-form-field",2),t._uU(23,"\n      "),t.TgZ(24,"mat-label"),t._uU(25),t.ALo(26,"translate"),t.qZA(),t._uU(27,"\n      "),t._UZ(28,"input",5),t._uU(29,"\n      "),t.TgZ(30,"mat-error"),t._uU(31),t.ALo(32,"translate"),t.ALo(33,"translate"),t.TgZ(34,"strong"),t._uU(35),t.ALo(36,"translate"),t.qZA(),t._uU(37,"\n      "),t.qZA(),t._uU(38,"\n    "),t.qZA(),t._uU(39,"\n\n    "),t.TgZ(40,"mat-form-field",2),t._uU(41,"\n      "),t.TgZ(42,"mat-label"),t._uU(43,"{{'labels.inputs.Today's Price' | translate}}"),t.qZA(),t._uU(44,"\n      "),t._UZ(45,"input",6),t._uU(46,"\n    "),t.qZA(),t._uU(47,"\n\n    "),t.TgZ(48,"mat-form-field",2),t._uU(49,"\n      "),t.TgZ(50,"mat-label"),t._uU(51),t.ALo(52,"translate"),t.qZA(),t._uU(53,"\n      "),t._UZ(54,"input",7),t._uU(55,"\n    "),t.qZA(),t._uU(56,"\n\n    "),t.TgZ(57,"mat-form-field",2),t._uU(58,"\n      "),t.TgZ(59,"mat-label"),t._uU(60),t.ALo(61,"translate"),t.qZA(),t._uU(62,"\n      "),t.TgZ(63,"mat-select",8),t._uU(64,"\n        "),t.YNc(65,me,2,2,"mat-option",9),t._uU(66,"\n      "),t.qZA(),t._uU(67,"\n      "),t.TgZ(68,"mat-error"),t._uU(69),t.ALo(70,"translate"),t.ALo(71,"translate"),t.TgZ(72,"strong"),t._uU(73),t.ALo(74,"translate"),t.qZA(),t._uU(75,"\n      "),t.qZA(),t._uU(76,"\n    "),t.qZA(),t._uU(77,"\n\n    "),t.TgZ(78,"mat-form-field",10),t.NdJ("click",function(){t.CHM(s);const u=t.MAs(89);return t.KtG(u.open())}),t._uU(79,"\n      "),t.TgZ(80,"mat-label"),t._uU(81),t.ALo(82,"translate"),t.qZA(),t._uU(83,"\n      "),t._UZ(84,"input",11),t._uU(85,"\n      "),t._UZ(86,"mat-datepicker-toggle",12),t._uU(87,"\n      "),t._UZ(88,"mat-datepicker",null,13),t._uU(90,"\n      "),t.TgZ(91,"mat-error"),t._uU(92),t.ALo(93,"translate"),t.ALo(94,"translate"),t.TgZ(95,"strong"),t._uU(96),t.ALo(97,"translate"),t.qZA(),t._uU(98,"\n      "),t.qZA(),t._uU(99,"\n    "),t.qZA(),t._uU(100,"\n\n    "),t.TgZ(101,"mat-checkbox",14),t._uU(102),t.ALo(103,"translate"),t.qZA(),t._uU(104,"\n\n    "),t.TgZ(105,"h4",15),t._uU(106),t.ALo(107,"translate"),t.qZA(),t._uU(108,"\n\n    "),t.TgZ(109,"mat-form-field",2),t._uU(110,"\n      "),t.TgZ(111,"mat-label"),t._uU(112),t.ALo(113,"translate"),t.qZA(),t._uU(114,"\n      "),t._UZ(115,"input",16),t._uU(116,"\n    "),t.qZA(),t._uU(117,"\n\n    "),t.TgZ(118,"mat-form-field",2),t._uU(119,"\n      "),t.TgZ(120,"mat-label"),t._uU(121),t.ALo(122,"translate"),t.qZA(),t._uU(123,"\n      "),t.TgZ(124,"mat-select",17),t._uU(125,"\n        "),t.YNc(126,pe,2,2,"mat-option",9),t._uU(127,"\n      "),t.qZA(),t._uU(128,"\n    "),t.qZA(),t._uU(129,"\n\n    "),t.TgZ(130,"h4",15),t._uU(131),t.ALo(132,"translate"),t.qZA(),t._uU(133,"\n\n    "),t.TgZ(134,"mat-form-field",2),t._uU(135,"\n      "),t.TgZ(136,"mat-label"),t._uU(137),t.ALo(138,"translate"),t.qZA(),t._uU(139,"\n      "),t._UZ(140,"input",18),t._uU(141,"\n    "),t.qZA(),t._uU(142,"\n\n    "),t.TgZ(143,"mat-form-field",2),t._uU(144,"\n      "),t.TgZ(145,"mat-label"),t._uU(146),t.ALo(147,"translate"),t.qZA(),t._uU(148,"\n      "),t.TgZ(149,"mat-select",19),t._uU(150,"\n        "),t.YNc(151,_e,2,2,"mat-option",9),t._uU(152,"\n      "),t.qZA(),t._uU(153,"\n    "),t.qZA(),t._uU(154,"\n\n  "),t.qZA(),t._uU(155,"\n\n  "),t.TgZ(156,"div",20),t._uU(157,"\n    "),t.TgZ(158,"button",21),t._uU(159,"\n      "),t._UZ(160,"fa-icon",22),t._uU(161),t.ALo(162,"translate"),t.qZA(),t._uU(163,"\n    "),t.TgZ(164,"button",23),t._uU(165),t.ALo(166,"translate"),t._UZ(167,"fa-icon",24),t._uU(168,"\n    "),t.qZA(),t._uU(169,"\n  "),t.qZA(),t._uU(170,"\n\n"),t.qZA(),t._uU(171,"\n")}if(2&n){const s=t.MAs(89);t.Q6J("formGroup",a.sharesAccountTermsForm),t.xp6(7),t.Oqu(t.lcZ(8,32,"labels.inputs.Currency")),t.xp6(9),t.Oqu(t.lcZ(17,34,"labels.inputs.Decimal Places")),t.xp6(9),t.Oqu(t.lcZ(26,36,"labels.inputs.Total Number of Shares")),t.xp6(6),t.AsE("\n        ",t.lcZ(32,38,"labels.inputs.Total Number of Shares")," ",t.lcZ(33,40,"labels.commons.is")," "),t.xp6(4),t.Oqu(t.lcZ(36,42,"labels.commons.required")),t.xp6(16),t.Oqu(t.lcZ(52,44,"labels.inputs.Currency in multiples of")),t.xp6(9),t.Oqu(t.lcZ(61,46,"labels.inputs.Default Savings Account")),t.xp6(5),t.Q6J("ngForOf",a.savingsAccountsData),t.xp6(4),t.AsE("\n        ",t.lcZ(70,48,"labels.inputs.Default Savings Account")," ",t.lcZ(71,50,"labels.commons.is")," "),t.xp6(4),t.Oqu(t.lcZ(74,52,"labels.commons.required")),t.xp6(8),t.Oqu(t.lcZ(82,54,"labels.inputs.Application Date")),t.xp6(3),t.Q6J("min",a.minDate)("max",a.maxDate)("matDatepicker",s),t.xp6(2),t.Q6J("for",s),t.xp6(6),t.AsE("\n        ",t.lcZ(93,56,"labels.inputs.Application Date")," ",t.lcZ(94,58,"labels.commons.is")," "),t.xp6(4),t.Oqu(t.lcZ(97,60,"labels.commons.required")),t.xp6(6),t.hij("\n      ",t.lcZ(103,62,"labels.inputs.Allow dividends for inactive clients"),"\n    "),t.xp6(4),t.Oqu(t.lcZ(107,64,"labels.heading.Minimum Active Period")),t.xp6(6),t.Oqu(t.lcZ(113,66,"labels.inputs.Frequency")),t.xp6(9),t.Oqu(t.lcZ(122,68,"labels.inputs.Type")),t.xp6(5),t.Q6J("ngForOf",a.minimumActivePeriodFrequencyTypeData),t.xp6(5),t.Oqu(t.lcZ(132,70,"labels.heading.Lock-in Period")),t.xp6(6),t.Oqu(t.lcZ(138,72,"labels.inputs.Frequency")),t.xp6(9),t.Oqu(t.lcZ(147,74,"labels.inputs.Type")),t.xp6(5),t.Q6J("ngForOf",a.lockinPeriodFrequencyTypeData),t.xp6(10),t.hij("\n      ",t.lcZ(162,76,"labels.buttons.Previous"),"\n    "),t.xp6(4),t.hij("\n      ",t.lcZ(166,78,"labels.buttons.Next"),"\n      ")}},dependencies:[f.sg,D.BN,m.xw,m.SQ,m.Wh,m.yH,Q.ey,T.lW,le.oG,d.Mq,d.hl,d.nW,_.TO,_.KE,_.hX,_.R9,S.Nt,M.gD,C.Ic,C.fd,c._Y,c.Fj,c.wV,c.JJ,c.JL,c.Q7,c.sg,c.u,A.X$],styles:["h4[_ngcontent-%COMP%]{font-weight:500;margin:1em 0}.margin-t[_ngcontent-%COMP%]{margin-top:1em}"]}),e})();var he=l(34417),de=l(68830),Ae=l(63613);function ge(e,o){if(1&e&&(t.TgZ(0,"mat-option",22),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.Q6J("value",n),t.xp6(1),t.hij("\n        ",n.name,"\n      ")}}function fe(e,o){1&e&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"labels.inputs.name")," "))}function Ue(e,o){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij("\n        ",n.name+", "+n.currency.displaySymbol,"\n      ")}}function Ze(e,o){1&e&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"labels.inputs.Type")," "))}function Te(e,o){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij("\n        ",n.chargeCalculationType.value,"\n      ")}}function Ce(e,o){1&e&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"labels.inputs.Amount")," "))}function xe(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"td",24),t._uU(1),t.TgZ(2,"button",25),t.NdJ("click",function(){const r=t.CHM(n).$implicit,u=t.oxw();return t.KtG(u.editCharge(r))}),t._uU(3,"\n          "),t._UZ(4,"fa-icon",26),t._uU(5,"\n        "),t.qZA(),t._uU(6,"\n      "),t.qZA()}if(2&e){const n=o.$implicit;t.xp6(1),t.hij("\n        ",n.amount||n.amountOrPercentage,"\n        ")}}function Se(e,o){1&e&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"labels.inputs.Collected On")," "))}function ve(e,o){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij("\n        ",n.chargeTimeType.value,"\n      ")}}function be(e,o){1&e&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"labels.inputs.Actions")," "))}function qe(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"td",24),t._uU(1,"\n        "),t.TgZ(2,"button",27),t.NdJ("click",function(){const r=t.CHM(n).$implicit,u=t.oxw();return t.KtG(u.deleteCharge(r))}),t._uU(3,"\n          "),t._UZ(4,"fa-icon",28),t._uU(5,"\n        "),t.qZA(),t._uU(6,"\n      "),t.qZA()}}function De(e,o){1&e&&t._UZ(0,"tr",29)}function ye(e,o){1&e&&t._UZ(0,"tr",30)}let F=(()=>{class e{constructor(n){this.dialog=n,this.chargeData=[],this.chargesDataSource=[],this.pristine=!0,this.isChargesPatched=!1,this.displayedColumns=["name","chargeCalculationType","amount","chargeTimeType","action"]}ngOnInit(){this.currencyCode.valueChanges.subscribe(()=>{!this.isChargesPatched&&this.sharesAccountTemplate.charges?(this.chargesDataSource=this.sharesAccountTemplate.charges,this.isChargesPatched=!0):this.chargesDataSource=[]})}ngOnChanges(){this.sharesAccountProductTemplate&&(this.chargeData=this.sharesAccountTemplate.chargeOptions,this.chargesDataSource=this.sharesAccountProductTemplate.charges)}addCharge(n){this.chargesDataSource=this.chargesDataSource.concat([n.value]),n.value="",this.pristine=!1}editCharge(n){const a=[new de.M({controlName:"amount",label:"Amount",value:n.amount||n.amountOrPercentage,type:"number",required:!1})];this.dialog.open(he.E,{data:{title:"Edit Charge",layout:{addButtonText:"Confirm"},formfields:a}}).afterClosed().subscribe(u=>{if(u.data){const g={...n,amount:u.data.value.amount};this.chargesDataSource.splice(this.chargesDataSource.indexOf(n),1,g),this.chargesDataSource=this.chargesDataSource.concat([])}}),this.pristine=!1}deleteCharge(n){this.dialog.open(H.F,{data:{deleteContext:`charge ${n.name}`}}).afterClosed().subscribe(s=>{s.delete&&(this.chargesDataSource.splice(this.chargesDataSource.indexOf(n),1),this.chargesDataSource=this.chargesDataSource.concat([]))}),this.pristine=!1}get sharesAccountCharges(){return{charges:this.chargesDataSource}}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(Z.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-shares-account-charges-step"]],inputs:{sharesAccountProductTemplate:"sharesAccountProductTemplate",sharesAccountTemplate:"sharesAccountTemplate",currencyCode:"currencyCode"},features:[t.TTD],decls:83,vars:22,consts:[["fxLayout","row wrap","fxLayoutGap","2%","fxLayout.lt-md","column"],["fxFlex","48%"],["charge",""],[3,"value",4,"ngFor","ngForOf"],["fxFlex","48%","fxFlexAlign","center"],["type","button","mat-raised-button","","color","primary",3,"disabled","click"],["icon","plus",1,"m-r-10"],["fxFlex","98%","mat-table","",1,"mat-elevation-z1",3,"dataSource","hidden"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","chargeCalculationType"],["matColumnDef","amount"],["matColumnDef","chargeTimeType"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","center","fxLayoutGap","2%",1,"margin-t"],["mat-raised-button","","matStepperPrevious",""],["icon","arrow-left",1,"m-r-10"],["mat-raised-button","","matStepperNext",""],["icon","arrow-right",1,"m-l-10"],[3,"value"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","primary",3,"click"],["icon","pen"],["mat-icon-button","","color","warn",3,"click"],["icon","trash"],["mat-header-row",""],["mat-row",""]],template:function(n,a){if(1&n){const s=t.EpF();t.TgZ(0,"div",0),t._uU(1,"\n\n  "),t.TgZ(2,"mat-form-field",1),t._uU(3,"\n    "),t.TgZ(4,"mat-label"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._uU(7,"\n    "),t.TgZ(8,"mat-select",null,2),t._uU(10,"\n      "),t.YNc(11,ge,2,2,"mat-option",3),t.ALo(12,"chargesFilter"),t._uU(13,"\n    "),t.qZA(),t._uU(14,"\n  "),t.qZA(),t._uU(15,"\n\n  "),t.TgZ(16,"div",4),t._uU(17,"\n    "),t.TgZ(18,"button",5),t.NdJ("click",function(){t.CHM(s);const u=t.MAs(9);return t.KtG(a.addCharge(u))}),t._uU(19,"\n      "),t._UZ(20,"fa-icon",6),t._uU(21),t.ALo(22,"translate"),t.qZA(),t._uU(23,"\n  "),t.qZA(),t._uU(24,"\n\n  "),t.TgZ(25,"table",7),t._uU(26,"\n\n    "),t.ynx(27,8),t._uU(28,"\n      "),t.YNc(29,fe,3,3,"th",9),t._uU(30,"\n      "),t.YNc(31,Ue,2,1,"td",10),t._uU(32,"\n    "),t.BQk(),t._uU(33,"\n\n    "),t.ynx(34,11),t._uU(35,"\n      "),t.YNc(36,Ze,3,3,"th",9),t._uU(37,"\n      "),t.YNc(38,Te,2,1,"td",10),t._uU(39,"\n    "),t.BQk(),t._uU(40,"\n\n    "),t.ynx(41,12),t._uU(42,"\n      "),t.YNc(43,Ce,3,3,"th",9),t._uU(44,"\n      "),t.YNc(45,xe,7,1,"td",10),t._uU(46,"\n    "),t.BQk(),t._uU(47,"\n\n    "),t.ynx(48,13),t._uU(49,"\n      "),t.YNc(50,Se,3,3,"th",9),t._uU(51,"\n      "),t.YNc(52,ve,2,1,"td",10),t._uU(53,"\n    "),t.BQk(),t._uU(54,"\n\n    "),t.ynx(55,14),t._uU(56,"\n      "),t.YNc(57,be,3,3,"th",9),t._uU(58,"\n      "),t.YNc(59,qe,7,0,"td",10),t._uU(60,"\n    "),t.BQk(),t._uU(61,"\n\n    "),t.YNc(62,De,1,0,"tr",15),t._uU(63,"\n    "),t.YNc(64,ye,1,0,"tr",16),t._uU(65,"\n\n  "),t.qZA(),t._uU(66,"\n\n"),t.qZA(),t._uU(67,"\n\n"),t.TgZ(68,"div",17),t._uU(69,"\n  "),t.TgZ(70,"button",18),t._uU(71,"\n    "),t._UZ(72,"fa-icon",19),t._uU(73),t.ALo(74,"translate"),t.qZA(),t._uU(75,"\n  "),t.TgZ(76,"button",20),t._uU(77),t.ALo(78,"translate"),t._UZ(79,"fa-icon",21),t._uU(80,"\n  "),t.qZA(),t._uU(81,"\n"),t.qZA(),t._uU(82,"\n")}if(2&n){const s=t.MAs(9);t.xp6(5),t.Oqu(t.lcZ(6,10,"labels.inputs.Charge")),t.xp6(6),t.Q6J("ngForOf",t.Dn7(12,12,a.chargeData,a.chargesDataSource,a.currencyCode.value)),t.xp6(7),t.Q6J("disabled",!s.value),t.xp6(3),t.hij("\n      ",t.lcZ(22,16,"labels.buttons.Add"),"\n    "),t.xp6(4),t.Q6J("dataSource",a.chargesDataSource)("hidden",0===a.chargesDataSource.length),t.xp6(37),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(2),t.Q6J("matRowDefColumns",a.displayedColumns),t.xp6(9),t.hij("\n    ",t.lcZ(74,18,"labels.buttons.Previous"),"\n  "),t.xp6(4),t.hij("\n    ",t.lcZ(78,20,"labels.buttons.Next"),"\n    ")}},dependencies:[f.sg,D.BN,m.xw,m.SQ,m.Wh,m.XD,m.yH,Q.ey,T.lW,_.KE,_.hX,M.gD,C.Ic,C.fd,i.BZ,i.fO,i.as,i.w1,i.Dz,i.nj,i.ge,i.ev,i.XQ,i.Gk,A.X$,Ae.A],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-elevation-z1[_ngcontent-%COMP%]{margin:1em 0 1.5em}.margin-t[_ngcontent-%COMP%]{margin-top:1em}"]}),e})();var v=l(73426),Pe=l(44850),Le=l(27676);function Oe(e,o){if(1&e&&(t.TgZ(0,"span",4),t._uU(1,"\n      "),t._UZ(2,"mifosx-external-identifier",13),t._uU(3,"\n    "),t.qZA()),2&e){const n=t.oxw();t.xp6(2),t.s9C("externalId",n.sharesAccount.externalId)}}function Fe(e,o){1&e&&(t.TgZ(0,"span",4),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij("\n      ",t.lcZ(2,1,"labels.inputs.Unassigned"),"\n    "))}function Ne(e,o){if(1&e&&(t.TgZ(0,"div",2),t._uU(1,"\n    "),t.TgZ(2,"span",3),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._uU(5,"\n    "),t.TgZ(6,"span",4),t._uU(7),t.ALo(8,"find"),t.qZA(),t._uU(9,"\n  "),t.qZA()),2&e){const n=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,3,"labels.inputs.Minimum Active Period")),t.xp6(4),t.AsE("",n.sharesAccount.minimumActivePeriod,"\xa0",t.gM2(8,5,n.sharesAccount.minimumActivePeriodFrequencyType,n.sharesAccountProductTemplate.minimumActivePeriodFrequencyTypeOptions,"id","value"),"")}}function we(e,o){if(1&e&&(t.TgZ(0,"div",2),t._uU(1,"\n    "),t.TgZ(2,"span",3),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._uU(5,"\n    "),t.TgZ(6,"span",4),t._uU(7),t.ALo(8,"find"),t.qZA(),t._uU(9,"\n  "),t.qZA()),2&e){const n=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,3,"labels.inputs.Lock-in Period")),t.xp6(4),t.AsE("",n.sharesAccount.lockinPeriodFrequency,"\xa0",t.gM2(8,5,n.sharesAccount.lockinPeriodFrequencyType,n.sharesAccountProductTemplate.lockinPeriodFrequencyTypeOptions,"id","value"),"")}}function Ye(e,o){1&e&&(t.TgZ(0,"th",24),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"labels.inputs.name")," "))}function Ie(e,o){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij("\n          ",n.name+", "+n.currency.displaySymbol,"\n        ")}}function ke(e,o){1&e&&(t.TgZ(0,"th",24),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"labels.inputs.Type")," "))}function Qe(e,o){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij("\n          ",n.chargeCalculationType.value,"\n        ")}}function Me(e,o){1&e&&(t.TgZ(0,"th",24),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"labels.inputs.Amount")," "))}function Re(e,o){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij("\n          ",n.amount||n.amountOrPercentage,"\n        ")}}function je(e,o){1&e&&(t.TgZ(0,"th",24),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"labels.inputs.Collected On")," "))}function Je(e,o){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij("\n          ",n.chargeTimeType.value,"\n        ")}}function Ee(e,o){1&e&&t._UZ(0,"tr",26)}function He(e,o){1&e&&t._UZ(0,"tr",27)}function Be(e,o){if(1&e&&(t.TgZ(0,"div",14),t._uU(1,"\n\n    "),t.TgZ(2,"h3",1),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._uU(5,"\n\n    "),t._UZ(6,"mat-divider",2),t._uU(7,"\n\n    "),t.TgZ(8,"table",15),t._uU(9,"\n\n      "),t.ynx(10,16),t._uU(11,"\n        "),t.YNc(12,Ye,3,3,"th",17),t._uU(13,"\n        "),t.YNc(14,Ie,2,1,"td",18),t._uU(15,"\n      "),t.BQk(),t._uU(16,"\n\n      "),t.ynx(17,19),t._uU(18,"\n        "),t.YNc(19,ke,3,3,"th",17),t._uU(20,"\n        "),t.YNc(21,Qe,2,1,"td",18),t._uU(22,"\n      "),t.BQk(),t._uU(23,"\n\n      "),t.ynx(24,20),t._uU(25,"\n        "),t.YNc(26,Me,3,3,"th",17),t._uU(27,"\n        "),t.YNc(28,Re,2,1,"td",18),t._uU(29,"\n      "),t.BQk(),t._uU(30,"\n\n      "),t.ynx(31,21),t._uU(32,"\n        "),t.YNc(33,je,3,3,"th",17),t._uU(34,"\n        "),t.YNc(35,Je,2,1,"td",18),t._uU(36,"\n      "),t.BQk(),t._uU(37,"\n\n      "),t.YNc(38,Ee,1,0,"tr",22),t._uU(39,"\n      "),t.YNc(40,He,1,0,"tr",23),t._uU(41,"\n\n    "),t.qZA(),t._uU(42,"\n\n  "),t.qZA()),2&e){const n=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,4,"labels.heading.Charges")),t.xp6(5),t.Q6J("dataSource",n.sharesAccount.charges),t.xp6(30),t.Q6J("matHeaderRowDef",n.chargesDisplayedColumns),t.xp6(2),t.Q6J("matRowDefColumns",n.chargesDisplayedColumns)}}const Ge=function(e){return[e]},$e=function(){return["../"]};let $=(()=>{class e{constructor(){this.chargesDisplayedColumns=["name","chargeCalculationType","amount","chargeTimeType"],this.submit=new t.vpe}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-shares-account-preview-step"]],inputs:{sharesAccountProductTemplate:"sharesAccountProductTemplate",sharesAccountTemplate:"sharesAccountTemplate",sharesAccountTermsForm:"sharesAccountTermsForm",sharesAccount:"sharesAccount"},outputs:{submit:"submit"},decls:153,vars:83,consts:[["fxLayout","row wrap","fxLayout.lt-md","column"],["fxFlexFill","",1,"mat-h3"],["fxFlexFill",""],["fxFlex","40%"],["fxFlex","60%"],["fxFlex","60%",4,"ngIf"],["fxFlexFill","",4,"ngIf"],["fxFlexFill","","fxLayout","row wrap","fxLayout.lt-md","column",4,"ngIf"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","center","fxLayoutGap","2%",1,"margin-t"],["mat-raised-button","","matStepperPrevious",""],["icon","arrow-left",1,"m-r-10"],["mat-raised-button","",3,"routerLink"],["mat-raised-button","","color","primary",3,"click"],[3,"externalId"],["fxFlexFill","","fxLayout","row wrap","fxLayout.lt-md","column"],["fxFlexFill","","mat-table","",1,"mat-elevation-z1",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","chargeCalculationType"],["matColumnDef","amount"],["matColumnDef","chargeTimeType"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(n,a){1&n&&(t.TgZ(0,"div",0),t._uU(1,"\n\n  "),t.TgZ(2,"h3",1),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._uU(5,"\n\n  "),t._UZ(6,"mat-divider",2),t._uU(7,"\n\n  "),t.TgZ(8,"div",2),t._uU(9,"\n    "),t.TgZ(10,"span",3),t._uU(11),t.ALo(12,"translate"),t.qZA(),t._uU(13,"\n    "),t.TgZ(14,"span",4),t._uU(15),t.ALo(16,"find"),t.qZA(),t._uU(17,"\n  "),t.qZA(),t._uU(18,"\n\n  "),t.TgZ(19,"div",2),t._uU(20,"\n    "),t.TgZ(21,"span",3),t._uU(22),t.ALo(23,"translate"),t.qZA(),t._uU(24,"\n    "),t.TgZ(25,"span",4),t._uU(26),t.ALo(27,"dateFormat"),t.qZA(),t._uU(28,"\n  "),t.qZA(),t._uU(29,"\n\n  "),t.TgZ(30,"div",2),t._uU(31,"\n    "),t.TgZ(32,"span",3),t._uU(33),t.ALo(34,"translate"),t.qZA(),t._uU(35,"\n    "),t.YNc(36,Oe,4,1,"span",5),t._uU(37,"\n    "),t.YNc(38,Fe,3,3,"span",5),t._uU(39,"\n  "),t.qZA(),t._uU(40,"\n\n  "),t.TgZ(41,"h3",1),t._uU(42),t.ALo(43,"translate"),t.qZA(),t._uU(44,"\n\n  "),t._UZ(45,"mat-divider",2),t._uU(46,"\n\n  "),t.TgZ(47,"div",2),t._uU(48,"\n    "),t.TgZ(49,"span",3),t._uU(50),t.ALo(51,"translate"),t.qZA(),t._uU(52,"\n    "),t.TgZ(53,"span",4),t._uU(54),t.ALo(55,"find"),t.qZA(),t._uU(56,"\n  "),t.qZA(),t._uU(57,"\n\n  "),t.TgZ(58,"div",2),t._uU(59,"\n    "),t.TgZ(60,"span",3),t._uU(61),t.ALo(62,"translate"),t.qZA(),t._uU(63,"\n    "),t.TgZ(64,"span",4),t._uU(65),t.qZA(),t._uU(66,"\n  "),t.qZA(),t._uU(67,"\n\n  "),t.TgZ(68,"div",2),t._uU(69,"\n    "),t.TgZ(70,"span",3),t._uU(71),t.ALo(72,"translate"),t.qZA(),t._uU(73,"\n    "),t.TgZ(74,"span",4),t._uU(75),t.qZA(),t._uU(76,"\n  "),t.qZA(),t._uU(77,"\n\n  "),t.TgZ(78,"div",2),t._uU(79,"\n    "),t.TgZ(80,"span",3),t._uU(81,"{{'labels.inputs.Today's Price' | translate}}"),t.qZA(),t._uU(82,"\n    "),t.TgZ(83,"span",4),t._uU(84),t.qZA(),t._uU(85,"\n  "),t.qZA(),t._uU(86,"\n\n  "),t.TgZ(87,"div",2),t._uU(88,"\n    "),t.TgZ(89,"span",3),t._uU(90),t.ALo(91,"translate"),t.qZA(),t._uU(92,"\n    "),t.TgZ(93,"span",4),t._uU(94),t.qZA(),t._uU(95,"\n  "),t.qZA(),t._uU(96,"\n\n  "),t.TgZ(97,"div",2),t._uU(98,"\n    "),t.TgZ(99,"span",3),t._uU(100),t.ALo(101,"translate"),t.qZA(),t._uU(102,"\n    "),t.TgZ(103,"span",4),t._uU(104),t.ALo(105,"find"),t.qZA(),t._uU(106,"\n  "),t.qZA(),t._uU(107,"\n\n  "),t.YNc(108,Ne,10,10,"div",6),t._uU(109,"\n\n  "),t.YNc(110,we,10,10,"div",6),t._uU(111,"\n\n  "),t.TgZ(112,"div",2),t._uU(113,"\n    "),t.TgZ(114,"span",3),t._uU(115),t.ALo(116,"translate"),t.qZA(),t._uU(117,"\n    "),t.TgZ(118,"span",4),t._uU(119),t.ALo(120,"dateFormat"),t.qZA(),t._uU(121,"\n  "),t.qZA(),t._uU(122,"\n\n  "),t.TgZ(123,"div",2),t._uU(124,"\n    "),t.TgZ(125,"span",3),t._uU(126),t.ALo(127,"translate"),t.qZA(),t._uU(128,"\n    "),t.TgZ(129,"span",4),t._uU(130),t.qZA(),t._uU(131,"\n  "),t.qZA(),t._uU(132,"\n\n  "),t.YNc(133,Be,43,6,"div",7),t._uU(134,"\n\n"),t.qZA(),t._uU(135,"\n\n"),t.TgZ(136,"div",8),t._uU(137,"\n  "),t.TgZ(138,"button",9),t._uU(139,"\n    "),t._UZ(140,"fa-icon",10),t._uU(141),t.ALo(142,"translate"),t.qZA(),t._uU(143,"\n  "),t.TgZ(144,"button",11),t._uU(145),t.ALo(146,"translate"),t.qZA(),t._uU(147,"\n  "),t.TgZ(148,"button",12),t.NdJ("click",function(){return a.submit.emit()}),t._uU(149),t.ALo(150,"translate"),t.qZA(),t._uU(151,"\n"),t.qZA(),t._uU(152,"\n")),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,31,"labels.heading.Details")),t.xp6(8),t.Oqu(t.lcZ(12,33,"labels.inputs.Product")),t.xp6(4),t.Oqu(t.gM2(16,35,a.sharesAccount.productId,a.sharesAccountTemplate.productOptions,"id","name")),t.xp6(7),t.Oqu(t.lcZ(23,40,"labels.inputs.Submitted On")),t.xp6(4),t.Oqu(t.lcZ(27,42,a.sharesAccount.submittedDate)),t.xp6(7),t.Oqu(t.lcZ(34,44,"labels.inputs.External Id")),t.xp6(3),t.Q6J("ngIf",a.sharesAccount.externalId),t.xp6(2),t.Q6J("ngIf",!a.sharesAccount.externalId),t.xp6(4),t.Oqu(t.lcZ(43,46,"labels.heading.Terms")),t.xp6(8),t.Oqu(t.lcZ(51,48,"labels.inputs.Currency")),t.xp6(4),t.Oqu(t.gM2(55,50,a.sharesAccountTermsForm.get("currencyCode").value,t.VKq(80,Ge,a.sharesAccountProductTemplate.currency),"code","displayLabel")),t.xp6(7),t.Oqu(t.lcZ(62,55,"labels.inputs.Decimal Places")),t.xp6(4),t.Oqu(a.sharesAccountTermsForm.get("decimal").value),t.xp6(6),t.Oqu(t.lcZ(72,57,"labels.inputs.Total Number of Shares")),t.xp6(4),t.Oqu(a.sharesAccount.requestedShares),t.xp6(9),t.Oqu(a.sharesAccountTermsForm.get("unitPrice").value),t.xp6(6),t.Oqu(t.lcZ(91,59,"labels.inputs.Currency in multiples of")),t.xp6(4),t.Oqu(a.sharesAccountTermsForm.get("currencyMultiple").value),t.xp6(6),t.Oqu(t.lcZ(101,61,"labels.inputs.Default Savings Account")),t.xp6(4),t.Oqu(t.gM2(105,63,a.sharesAccount.savingsAccountId,a.sharesAccountProductTemplate.clientSavingsAccounts,"id","accountNo")),t.xp6(4),t.Q6J("ngIf",a.sharesAccount.minimumActivePeriod),t.xp6(2),t.Q6J("ngIf",a.sharesAccount.lockinPeriodFrequency),t.xp6(5),t.Oqu(t.lcZ(116,68,"labels.inputs.Application Date")),t.xp6(4),t.Oqu(t.lcZ(120,70,a.sharesAccount.applicationDate)),t.xp6(7),t.Oqu(t.lcZ(127,72,"labels.inputs.Allow dividends for inactive clients")),t.xp6(4),t.Oqu(a.sharesAccount.allowDividendCalculationForInactiveClients),t.xp6(3),t.Q6J("ngIf",a.sharesAccount.charges.length),t.xp6(8),t.hij("\n    ",t.lcZ(142,74,"labels.buttons.Previous"),"\n  "),t.xp6(3),t.Q6J("routerLink",t.DdM(82,$e)),t.xp6(1),t.hij("\n    ",t.lcZ(146,76,"labels.buttons.Cancel"),"\n  "),t.xp6(4),t.hij("\n    ",t.lcZ(150,78,"labels.buttons.Submit"),"\n  "))},dependencies:[f.O5,D.BN,m.xw,m.SQ,m.Wh,m.s9,m.yH,T.lW,Pe.d,C.fd,i.BZ,i.fO,i.as,i.w1,i.Dz,i.nj,i.ge,i.ev,i.XQ,i.Gk,G.e,p.rH,A.X$,Le.Z,q.E],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-elevation-z1[_ngcontent-%COMP%]{margin:1em 0 1.5em}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin:0;font-weight:500}span[_ngcontent-%COMP%]{margin:.5em 0}mat-divider[_ngcontent-%COMP%]{margin:0 0 .5em}.margin-t[_ngcontent-%COMP%]{margin-top:1em}"]}),e})();function ze(e,o){1&e&&(t._uU(0,"\n      "),t._UZ(1,"fa-icon",14),t._uU(2,"\n    "))}function Xe(e,o){1&e&&(t._uU(0,"\n      "),t._UZ(1,"fa-icon",14),t._uU(2,"\n    "))}function Ve(e,o){1&e&&(t._uU(0,"\n      "),t._UZ(1,"fa-icon",15),t._uU(2,"\n    "))}function We(e,o){1&e&&(t._uU(0,"\n      "),t._UZ(1,"fa-icon",16),t._uU(2,"\n    "))}function Ke(e,o){1&e&&(t._uU(0,"\n      "),t._UZ(1,"fa-icon",17),t._uU(2,"\n    "))}function tn(e,o){1&e&&(t._uU(0),t.ALo(1,"translate")),2&e&&t.Oqu(t.lcZ(1,1,"labels.inputs.DETAILS"))}function en(e,o){1&e&&(t._uU(0),t.ALo(1,"translate")),2&e&&t.Oqu(t.lcZ(1,1,"labels.inputs.TERMS"))}function nn(e,o){1&e&&(t._uU(0),t.ALo(1,"translate")),2&e&&t.Oqu(t.lcZ(1,1,"labels.inputs.CHARGES"))}function an(e,o){1&e&&(t._uU(0),t.ALo(1,"translate")),2&e&&t.Oqu(t.lcZ(1,1,"labels.inputs.PREVIEW"))}function on(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"mat-step",18),t._uU(1,"\n\n      "),t.YNc(2,an,2,3,"ng-template",9),t._uU(3,"\n\n      "),t.TgZ(4,"mifosx-shares-account-preview-step",19),t.NdJ("submit",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.submit())}),t._uU(5,"\n      "),t.qZA(),t._uU(6,"\n\n    "),t.qZA()}if(2&e){const n=t.oxw();t.xp6(4),t.Q6J("sharesAccountProductTemplate",n.sharesAccountProductTemplate)("sharesAccountTemplate",n.sharesAccountTemplate)("sharesAccountTermsForm",n.sharesAccountTermsForm)("sharesAccount",n.sharesAccount)}}let sn=(()=>{class e{constructor(n,a,s,r,u){this.route=n,this.router=a,this.dateUtils=s,this.sharesService=r,this.settingsService=u,this.route.data.subscribe(g=>{this.sharesAccountTemplate=g.sharesAccountTemplate})}setTemplate(n){this.sharesAccountProductTemplate=n}get sharesAccountDetailsForm(){return this.sharesAccountDetailsStep.sharesAccountDetailsForm}get sharesAccountTermsForm(){return this.sharesAccountTermsStep.sharesAccountTermsForm}get sharesAccountFormValid(){return this.sharesAccountDetailsForm.valid&&this.sharesAccountTermsForm.valid}get sharesAccount(){return{...this.sharesAccountDetailsStep.sharesAccountDetails,...this.sharesAccountTermsStep.sharesAccountTerms,...this.sharesAccountChargesStep.sharesAccountCharges}}submit(){const n=this.settingsService.language.code,a=this.settingsService.dateFormat,s={...this.sharesAccount,clientId:this.sharesAccountTemplate.clientId,charges:this.sharesAccount.charges.map(r=>({chargeId:r.chargeId,amount:r.amount})),applicationDate:this.dateUtils.formatDate(this.sharesAccount.applicationDate,a),submittedDate:this.dateUtils.formatDate(this.sharesAccount.submittedDate,a),unitPrice:this.sharesAccountTermsForm.get("unitPrice").value,dateFormat:a,locale:n};this.sharesService.createSharesAccount(s).subscribe(r=>{this.router.navigate(["../",r.resourceId],{relativeTo:this.route})})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(p.gz),t.Y36(p.F0),t.Y36(v.L),t.Y36(U),t.Y36(x.g))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-create-shares-account"]],viewQuery:function(n,a){if(1&n&&(t.Gf(L,7),t.Gf(O,7),t.Gf(F,7)),2&n){let s;t.iGM(s=t.CRH())&&(a.sharesAccountDetailsStep=s.first),t.iGM(s=t.CRH())&&(a.sharesAccountTermsStep=s.first),t.iGM(s=t.CRH())&&(a.sharesAccountChargesStep=s.first)}},decls:42,vars:8,consts:[[1,"container"],["labelPosition","bottom",1,"mat-elevation-z8"],["shareProductStepper",""],["matStepperIcon","number"],["matStepperIcon","edit"],["matStepperIcon","done"],["matStepperIcon","error"],["matStepperIcon","preview"],[3,"stepControl"],["matStepLabel",""],[3,"sharesAccountTemplate","sharesAccountProductTemplate"],[3,"sharesAccountProductTemplate"],[3,"sharesAccountProductTemplate","sharesAccountTemplate","currencyCode"],["completed","",4,"ngIf"],["icon","pencil-alt","size","sm"],["icon","check","size","sm"],["icon","exclamation-triangle","size","lg"],["icon","eye","size","sm"],["completed",""],[3,"sharesAccountProductTemplate","sharesAccountTemplate","sharesAccountTermsForm","sharesAccount","submit"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0),t._uU(1,"\n\n  "),t.TgZ(2,"mat-horizontal-stepper",1,2),t._uU(4,"\n\n    "),t.YNc(5,ze,3,0,"ng-template",3),t._uU(6,"\n\n    "),t.YNc(7,Xe,3,0,"ng-template",4),t._uU(8,"\n\n    "),t.YNc(9,Ve,3,0,"ng-template",5),t._uU(10,"\n\n    "),t.YNc(11,We,3,0,"ng-template",6),t._uU(12,"\n\n    "),t.YNc(13,Ke,3,0,"ng-template",7),t._uU(14,"\n\n    "),t.TgZ(15,"mat-step",8),t._uU(16,"\n\n      "),t.YNc(17,tn,2,3,"ng-template",9),t._uU(18,"\n\n      "),t.TgZ(19,"mifosx-shares-account-details-step",10),t.NdJ("sharesAccountProductTemplate",function(r){return a.setTemplate(r)}),t._uU(20,"\n      "),t.qZA(),t._uU(21,"\n\n    "),t.qZA(),t._uU(22,"\n\n    "),t.TgZ(23,"mat-step",8),t._uU(24,"\n\n      "),t.YNc(25,en,2,3,"ng-template",9),t._uU(26,"\n\n      "),t._UZ(27,"mifosx-shares-account-terms-step",11),t._uU(28,"\n\n    "),t.qZA(),t._uU(29,"\n\n    "),t.TgZ(30,"mat-step"),t._uU(31,"\n\n      "),t.YNc(32,nn,2,3,"ng-template",9),t._uU(33,"\n\n      "),t.TgZ(34,"mifosx-shares-account-charges-step",12),t._uU(35,"\n      "),t.qZA(),t._uU(36,"\n\n    "),t.qZA(),t._uU(37,"\n\n    "),t.YNc(38,on,7,4,"mat-step",13),t._uU(39,"\n\n  "),t.qZA(),t._uU(40,"\n\n"),t.qZA(),t._uU(41,"\n")),2&n&&(t.xp6(15),t.Q6J("stepControl",a.sharesAccountDetailsForm),t.xp6(4),t.Q6J("sharesAccountTemplate",a.sharesAccountTemplate),t.xp6(4),t.Q6J("stepControl",a.sharesAccountTermsForm),t.xp6(4),t.Q6J("sharesAccountProductTemplate",a.sharesAccountProductTemplate),t.xp6(7),t.Q6J("sharesAccountProductTemplate",a.sharesAccountProductTemplate)("sharesAccountTemplate",a.sharesAccountTemplate)("currencyCode",a.sharesAccountTermsForm.get("currencyCode")),t.xp6(4),t.Q6J("ngIf",a.sharesAccountFormValid))},dependencies:[f.O5,D.BN,C.C0,C.VY,C.Vq,C.z9,L,O,F,$,A.X$]}),e})();function rn(e,o){1&e&&(t._uU(0,"\n      "),t._UZ(1,"fa-icon",14),t._uU(2,"\n    "))}function cn(e,o){1&e&&(t._uU(0,"\n      "),t._UZ(1,"fa-icon",14),t._uU(2,"\n    "))}function un(e,o){1&e&&(t._uU(0,"\n      "),t._UZ(1,"fa-icon",15),t._uU(2,"\n    "))}function ln(e,o){1&e&&(t._uU(0,"\n      "),t._UZ(1,"fa-icon",16),t._uU(2,"\n    "))}function mn(e,o){1&e&&(t._uU(0,"\n      "),t._UZ(1,"fa-icon",17),t._uU(2,"\n    "))}function pn(e,o){1&e&&(t._uU(0),t.ALo(1,"translate")),2&e&&t.Oqu(t.lcZ(1,1,"labels.inputs.DETAILS"))}function _n(e,o){1&e&&(t._uU(0),t.ALo(1,"translate")),2&e&&t.Oqu(t.lcZ(1,1,"labels.inputs.TERMS"))}function hn(e,o){1&e&&(t._uU(0),t.ALo(1,"translate")),2&e&&t.Oqu(t.lcZ(1,1,"labels.inputs.CHARGES"))}function dn(e,o){1&e&&(t._uU(0),t.ALo(1,"translate")),2&e&&t.Oqu(t.lcZ(1,1,"labels.inputs.PREVIEW"))}function An(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"mat-step",18),t._uU(1,"\n\n      "),t.YNc(2,dn,2,3,"ng-template",9),t._uU(3,"\n\n      "),t.TgZ(4,"mifosx-shares-account-preview-step",19),t.NdJ("submit",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.submit())}),t._uU(5,"\n      "),t.qZA(),t._uU(6,"\n\n    "),t.qZA()}if(2&e){const n=t.oxw();t.xp6(4),t.Q6J("sharesAccountProductTemplate",n.sharesAccountProductTemplate)("sharesAccountTemplate",n.sharesAccountAndTemplate)("sharesAccountTermsForm",n.sharesAccountTermsForm)("sharesAccount",n.sharesAccount)}}let gn=(()=>{class e{constructor(n,a,s,r,u){this.route=n,this.router=a,this.dateUtils=s,this.sharesService=r,this.settingsService=u,this.route.data.subscribe(g=>{this.sharesAccountAndTemplate=g.sharesAccountAndTemplate})}setTemplate(n){this.sharesAccountProductTemplate=n}get sharesAccountDetailsForm(){return this.sharesAccountDetailsStep.sharesAccountDetailsForm}get sharesAccountTermsForm(){return this.sharesAccountTermsStep.sharesAccountTermsForm}get sharesAccountFormValidAndNotPristine(){return this.sharesAccountDetailsForm.valid&&this.sharesAccountTermsForm.valid&&(!this.sharesAccountDetailsForm.pristine||!this.sharesAccountTermsForm.pristine||!this.sharesAccountChargesStep.pristine)}get sharesAccount(){return{...this.sharesAccountDetailsStep.sharesAccountDetails,...this.sharesAccountTermsStep.sharesAccountTerms,...this.sharesAccountChargesStep.sharesAccountCharges}}submit(){const n=this.settingsService.language.code,a=this.settingsService.dateFormat,s={...this.sharesAccount,clientId:this.sharesAccountAndTemplate.clientId,charges:this.sharesAccount.charges.map(r=>({chargeId:r.chargeId,amount:r.amount})),applicationDate:this.dateUtils.formatDate(this.sharesAccount.applicationDate,a),submittedDate:this.dateUtils.formatDate(this.sharesAccount.submittedDate,a),unitPrice:this.sharesAccountTermsForm.get("unitPrice").value,dateFormat:a,locale:n};this.sharesService.updateSharesAccount(this.sharesAccountAndTemplate.id,s).subscribe(r=>{this.router.navigate(["../"],{relativeTo:this.route})})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(p.gz),t.Y36(p.F0),t.Y36(v.L),t.Y36(U),t.Y36(x.g))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-edit-shares-account"]],viewQuery:function(n,a){if(1&n&&(t.Gf(L,7),t.Gf(O,7),t.Gf(F,7)),2&n){let s;t.iGM(s=t.CRH())&&(a.sharesAccountDetailsStep=s.first),t.iGM(s=t.CRH())&&(a.sharesAccountTermsStep=s.first),t.iGM(s=t.CRH())&&(a.sharesAccountChargesStep=s.first)}},decls:43,vars:9,consts:[[1,"container"],["labelPosition","bottom",1,"mat-elevation-z8"],["shareProductStepper",""],["matStepperIcon","number"],["matStepperIcon","edit"],["matStepperIcon","done"],["matStepperIcon","error"],["matStepperIcon","preview"],[3,"stepControl"],["matStepLabel",""],[3,"sharesAccountTemplate","sharesAccountProductTemplate"],[3,"sharesAccountProductTemplate","sharesAccountTemplate"],[3,"sharesAccountProductTemplate","sharesAccountTemplate","currencyCode"],["completed","",4,"ngIf"],["icon","pencil-alt","size","sm"],["icon","check","size","sm"],["icon","exclamation-triangle","size","lg"],["icon","eye","size","sm"],["completed",""],[3,"sharesAccountProductTemplate","sharesAccountTemplate","sharesAccountTermsForm","sharesAccount","submit"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0),t._uU(1,"\n\n  "),t.TgZ(2,"mat-horizontal-stepper",1,2),t._uU(4,"\n\n    "),t.YNc(5,rn,3,0,"ng-template",3),t._uU(6,"\n\n    "),t.YNc(7,cn,3,0,"ng-template",4),t._uU(8,"\n\n    "),t.YNc(9,un,3,0,"ng-template",5),t._uU(10,"\n\n    "),t.YNc(11,ln,3,0,"ng-template",6),t._uU(12,"\n\n    "),t.YNc(13,mn,3,0,"ng-template",7),t._uU(14,"\n\n    "),t.TgZ(15,"mat-step",8),t._uU(16,"\n\n      "),t.YNc(17,pn,2,3,"ng-template",9),t._uU(18,"\n\n      "),t.TgZ(19,"mifosx-shares-account-details-step",10),t.NdJ("sharesAccountProductTemplate",function(r){return a.setTemplate(r)}),t._uU(20,"\n      "),t.qZA(),t._uU(21,"\n\n    "),t.qZA(),t._uU(22,"\n\n    "),t.TgZ(23,"mat-step",8),t._uU(24,"\n\n      "),t.YNc(25,_n,2,3,"ng-template",9),t._uU(26,"\n\n      "),t.TgZ(27,"mifosx-shares-account-terms-step",11),t._uU(28,"\n      "),t.qZA(),t._uU(29,"\n\n    "),t.qZA(),t._uU(30,"\n\n    "),t.TgZ(31,"mat-step"),t._uU(32,"\n\n      "),t.YNc(33,hn,2,3,"ng-template",9),t._uU(34,"\n\n      "),t.TgZ(35,"mifosx-shares-account-charges-step",12),t._uU(36,"\n      "),t.qZA(),t._uU(37,"\n\n    "),t.qZA(),t._uU(38,"\n\n    "),t.YNc(39,An,7,4,"mat-step",13),t._uU(40,"\n\n  "),t.qZA(),t._uU(41,"\n\n"),t.qZA(),t._uU(42,"\n")),2&n&&(t.xp6(15),t.Q6J("stepControl",a.sharesAccountDetailsForm),t.xp6(4),t.Q6J("sharesAccountTemplate",a.sharesAccountAndTemplate),t.xp6(4),t.Q6J("stepControl",a.sharesAccountTermsForm),t.xp6(4),t.Q6J("sharesAccountProductTemplate",a.sharesAccountProductTemplate)("sharesAccountTemplate",a.sharesAccountAndTemplate),t.xp6(8),t.Q6J("sharesAccountProductTemplate",a.sharesAccountProductTemplate)("sharesAccountTemplate",a.sharesAccountAndTemplate)("currencyCode",a.sharesAccountTermsForm.get("currencyCode")),t.xp6(4),t.Q6J("ngIf",a.sharesAccountFormValidAndNotPristine))},dependencies:[f.O5,D.BN,C.C0,C.VY,C.Vq,C.z9,L,O,F,$,A.X$]}),e})();var R=l(39349);function fn(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"translate"),t.TgZ(4,"strong"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._uU(7,"\n            "),t.qZA()),2&e&&(t.xp6(1),t.AsE("\n              ",t.lcZ(2,3,"labels.inputs.Approved On Date")," ",t.lcZ(3,5,"labels.commons.is")," "),t.xp6(4),t.Oqu(t.lcZ(6,7,"labels.commons.required")))}const Un=function(){return["../../"]};let Zn=(()=>{class e{constructor(n,a,s,r,u,g){this.formBuilder=n,this.sharesService=a,this.dateUtils=s,this.route=r,this.router=u,this.settingsService=g,this.minDate=new Date(2e3,0,1),this.maxDate=new Date,this.accountId=this.route.parent.snapshot.params.shareAccountId}ngOnInit(){this.maxDate=this.settingsService.businessDate,this.createApproveSharesAccountForm()}createApproveSharesAccountForm(){this.approveSharesAccountForm=this.formBuilder.group({approvedDate:["",c.kI.required],note:[""]})}submit(){const n=this.approveSharesAccountForm.value,a=this.settingsService.language.code,s=this.settingsService.dateFormat;n.approvedDate instanceof Date&&(n.approvedDate=this.dateUtils.formatDate(this.approveSharesAccountForm.value.approvedDate,s));const u={...n,dateFormat:s,locale:a};this.sharesService.executeSharesAccountCommand(this.accountId,"approve",u).subscribe(()=>{this.router.navigate(["../../"],{relativeTo:this.route})})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(c.QS),t.Y36(U),t.Y36(v.L),t.Y36(p.gz),t.Y36(p.F0),t.Y36(x.g))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-approve-shares-account"]],decls:51,vars:21,consts:[[1,"container"],[3,"formGroup","ngSubmit"],["fxLayout","column"],[3,"click"],["matInput","","required","","formControlName","approvedDate",3,"min","max","matDatepicker"],["matSuffix","",3,"for"],["approvedDatePicker",""],[4,"ngIf"],["matInput","","formControlName","note","cdkTextareaAutosize","","cdkAutosizeMinRows","2"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","center","fxLayoutGap","5px"],["type","button","mat-raised-button","",3,"routerLink"],["mat-raised-button","",3,"disabled"]],template:function(n,a){if(1&n){const s=t.EpF();t.TgZ(0,"div",0),t._uU(1,"\n\n  "),t.TgZ(2,"mat-card"),t._uU(3,"\n\n    "),t.TgZ(4,"form",1),t.NdJ("ngSubmit",function(){return a.submit()}),t._uU(5,"\n\n      "),t.TgZ(6,"mat-card-content"),t._uU(7,"\n\n        "),t.TgZ(8,"div",2),t._uU(9,"\n\n          "),t.TgZ(10,"mat-form-field",3),t.NdJ("click",function(){t.CHM(s);const u=t.MAs(21);return t.KtG(u.open())}),t._uU(11,"\n            "),t.TgZ(12,"mat-label"),t._uU(13),t.ALo(14,"translate"),t.qZA(),t._uU(15,"\n            "),t._UZ(16,"input",4),t._uU(17,"\n            "),t._UZ(18,"mat-datepicker-toggle",5),t._uU(19,"\n            "),t._UZ(20,"mat-datepicker",null,6),t._uU(22,"\n            "),t.YNc(23,fn,8,9,"mat-error",7),t._uU(24,"\n          "),t.qZA(),t._uU(25,"\n\n          "),t.TgZ(26,"mat-form-field"),t._uU(27,"\n            "),t.TgZ(28,"mat-label"),t._uU(29),t.ALo(30,"translate"),t.qZA(),t._uU(31,"\n            "),t._UZ(32,"textarea",8),t._uU(33,"\n          "),t.qZA(),t._uU(34,"\n\n        "),t.qZA(),t._uU(35,"\n\n      "),t.qZA(),t._uU(36,"\n\n      "),t.TgZ(37,"mat-card-actions",9),t._uU(38,"\n        "),t.TgZ(39,"button",10),t._uU(40),t.ALo(41,"translate"),t.qZA(),t._uU(42,"\n        "),t.TgZ(43,"button",11),t._uU(44),t.ALo(45,"translate"),t.qZA(),t._uU(46,"\n      "),t.qZA(),t._uU(47,"\n\n    "),t.qZA(),t._uU(48,"\n\n  "),t.qZA(),t._uU(49,"\n\n"),t.qZA(),t._uU(50,"\n")}if(2&n){const s=t.MAs(21);t.xp6(4),t.Q6J("formGroup",a.approveSharesAccountForm),t.xp6(9),t.Oqu(t.lcZ(14,12,"labels.inputs.Approved On Date")),t.xp6(3),t.Q6J("min",a.minDate)("max",a.maxDate)("matDatepicker",s),t.xp6(2),t.Q6J("for",s),t.xp6(5),t.Q6J("ngIf",a.approveSharesAccountForm.controls.approvedDate.hasError("required")),t.xp6(6),t.Oqu(t.lcZ(30,14,"labels.inputs.Note")),t.xp6(10),t.Q6J("routerLink",t.DdM(20,Un)),t.xp6(1),t.Oqu(t.lcZ(41,16,"labels.buttons.Cancel")),t.xp6(3),t.Q6J("disabled",!a.approveSharesAccountForm.valid),t.xp6(1),t.Oqu(t.lcZ(45,18,"labels.buttons.Confirm"))}},dependencies:[f.O5,m.xw,m.SQ,m.Wh,T.lW,h.a8,h.dn,h.hq,d.Mq,d.hl,d.nW,_.TO,_.KE,_.hX,_.R9,R.IC,S.Nt,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.sg,c.u,p.rH,A.X$],styles:[".container[_ngcontent-%COMP%]{max-width:37rem}"]}),e})();function Tn(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"translate"),t.TgZ(4,"strong"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._uU(7,"\n            "),t.qZA()),2&e&&(t.xp6(1),t.AsE("\n              ",t.lcZ(2,3,"labels.inputs.Rejected On Date")," ",t.lcZ(3,5,"labels.commons.is")," "),t.xp6(4),t.Oqu(t.lcZ(6,7,"labels.commons.required")))}const Cn=function(){return["../../"]};let xn=(()=>{class e{constructor(n,a,s,r,u,g){this.formBuilder=n,this.sharesService=a,this.dateUtils=s,this.route=r,this.router=u,this.settingsService=g,this.minDate=new Date(2e3,0,1),this.maxDate=new Date,this.accountId=this.route.parent.snapshot.params.shareAccountId}ngOnInit(){this.maxDate=this.settingsService.businessDate,this.createRejectSharesAccountForm()}createRejectSharesAccountForm(){this.rejectSharesAccountForm=this.formBuilder.group({rejectedDate:["",c.kI.required],note:[""]})}submit(){const n=this.rejectSharesAccountForm.value,a=this.settingsService.language.code,s=this.settingsService.dateFormat;n.rejectedDate instanceof Date&&(n.rejectedDate=this.dateUtils.formatDate(this.rejectSharesAccountForm.value.rejectedDate,s));const u={...n,dateFormat:s,locale:a};this.sharesService.executeSharesAccountCommand(this.accountId,"reject",u).subscribe(()=>{this.router.navigate(["../../"],{relativeTo:this.route})})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(c.QS),t.Y36(U),t.Y36(v.L),t.Y36(p.gz),t.Y36(p.F0),t.Y36(x.g))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-reject-shares-account"]],decls:51,vars:21,consts:[[1,"container"],[3,"formGroup","ngSubmit"],["fxLayout","column"],[3,"click"],["matInput","","required","","formControlName","rejectedDate",3,"min","max","matDatepicker"],["matSuffix","",3,"for"],["rejectedDatePicker",""],[4,"ngIf"],["matInput","","formControlName","note","cdkTextareaAutosize","","cdkAutosizeMinRows","2"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","center","fxLayoutGap","5px"],["type","button","mat-raised-button","",3,"routerLink"],["mat-raised-button","","color","warn",3,"disabled"]],template:function(n,a){if(1&n){const s=t.EpF();t.TgZ(0,"div",0),t._uU(1,"\n\n  "),t.TgZ(2,"mat-card"),t._uU(3,"\n\n    "),t.TgZ(4,"form",1),t.NdJ("ngSubmit",function(){return a.submit()}),t._uU(5,"\n\n      "),t.TgZ(6,"mat-card-content"),t._uU(7,"\n\n        "),t.TgZ(8,"div",2),t._uU(9,"\n\n          "),t.TgZ(10,"mat-form-field",3),t.NdJ("click",function(){t.CHM(s);const u=t.MAs(21);return t.KtG(u.open())}),t._uU(11,"\n            "),t.TgZ(12,"mat-label"),t._uU(13),t.ALo(14,"translate"),t.qZA(),t._uU(15,"\n            "),t._UZ(16,"input",4),t._uU(17,"\n            "),t._UZ(18,"mat-datepicker-toggle",5),t._uU(19,"\n            "),t._UZ(20,"mat-datepicker",null,6),t._uU(22,"\n            "),t.YNc(23,Tn,8,9,"mat-error",7),t._uU(24,"\n          "),t.qZA(),t._uU(25,"\n\n          "),t.TgZ(26,"mat-form-field"),t._uU(27,"\n            "),t.TgZ(28,"mat-label"),t._uU(29),t.ALo(30,"translate"),t.qZA(),t._uU(31,"\n            "),t._UZ(32,"textarea",8),t._uU(33,"\n          "),t.qZA(),t._uU(34,"\n\n        "),t.qZA(),t._uU(35,"\n\n      "),t.qZA(),t._uU(36,"\n\n      "),t.TgZ(37,"mat-card-actions",9),t._uU(38,"\n        "),t.TgZ(39,"button",10),t._uU(40),t.ALo(41,"translate"),t.qZA(),t._uU(42,"\n        "),t.TgZ(43,"button",11),t._uU(44),t.ALo(45,"translate"),t.qZA(),t._uU(46,"\n      "),t.qZA(),t._uU(47,"\n\n    "),t.qZA(),t._uU(48,"\n\n  "),t.qZA(),t._uU(49,"\n\n"),t.qZA(),t._uU(50,"\n")}if(2&n){const s=t.MAs(21);t.xp6(4),t.Q6J("formGroup",a.rejectSharesAccountForm),t.xp6(9),t.Oqu(t.lcZ(14,12,"labels.inputs.Rejected On Date")),t.xp6(3),t.Q6J("min",a.minDate)("max",a.maxDate)("matDatepicker",s),t.xp6(2),t.Q6J("for",s),t.xp6(5),t.Q6J("ngIf",a.rejectSharesAccountForm.controls.rejectedDate.hasError("required")),t.xp6(6),t.Oqu(t.lcZ(30,14,"labels.inputs.Note")),t.xp6(10),t.Q6J("routerLink",t.DdM(20,Cn)),t.xp6(1),t.Oqu(t.lcZ(41,16,"labels.buttons.Cancel")),t.xp6(3),t.Q6J("disabled",!a.rejectSharesAccountForm.valid),t.xp6(1),t.Oqu(t.lcZ(45,18,"labels.buttons.Confirm"))}},dependencies:[f.O5,m.xw,m.SQ,m.Wh,T.lW,h.a8,h.dn,h.hq,d.Mq,d.hl,d.nW,_.TO,_.KE,_.hX,_.R9,R.IC,S.Nt,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.sg,c.u,p.rH,A.X$],styles:[".container[_ngcontent-%COMP%]{max-width:37rem}"]}),e})();function Sn(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"translate"),t.TgZ(4,"strong"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._uU(7,"\n            "),t.qZA()),2&e&&(t.xp6(1),t.AsE("\n              ",t.lcZ(2,3,"labels.inputs.Closed On Date")," ",t.lcZ(3,5,"labels.commons.is")," "),t.xp6(4),t.Oqu(t.lcZ(6,7,"labels.commons.required")))}const vn=function(){return["../../"]};let bn=(()=>{class e{constructor(n,a,s,r,u,g){this.formBuilder=n,this.sharesService=a,this.dateUtils=s,this.route=r,this.router=u,this.settingsService=g,this.minDate=new Date(2e3,0,1),this.maxDate=new Date,this.accountId=this.route.parent.snapshot.params.shareAccountId}ngOnInit(){this.maxDate=this.settingsService.businessDate,this.createCloseSharesAccountForm()}createCloseSharesAccountForm(){this.closeSharesAccountForm=this.formBuilder.group({closedDate:["",c.kI.required],note:[""]})}submit(){const n=this.closeSharesAccountForm.value,a=this.settingsService.language.code,s=this.settingsService.dateFormat;n.closedDate instanceof Date&&(n.closedDate=this.dateUtils.formatDate(this.closeSharesAccountForm.value.closedDate,s));const u={...n,dateFormat:s,locale:a};this.sharesService.executeSharesAccountCommand(this.accountId,"close",u).subscribe(()=>{this.router.navigate(["../../"],{relativeTo:this.route})})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(c.QS),t.Y36(U),t.Y36(v.L),t.Y36(p.gz),t.Y36(p.F0),t.Y36(x.g))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-close-shares-account"]],decls:51,vars:21,consts:[[1,"container"],[3,"formGroup","ngSubmit"],["fxLayout","column"],[3,"click"],["matInput","","required","","formControlName","closedDate",3,"min","max","matDatepicker"],["matSuffix","",3,"for"],["closedDatePicker",""],[4,"ngIf"],["matInput","","formControlName","note","cdkTextareaAutosize","","cdkAutosizeMinRows","2"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","center","fxLayoutGap","5px"],["type","button","mat-raised-button","",3,"routerLink"],["mat-raised-button","","color","warn",3,"disabled"]],template:function(n,a){if(1&n){const s=t.EpF();t.TgZ(0,"div",0),t._uU(1,"\n\n  "),t.TgZ(2,"mat-card"),t._uU(3,"\n\n    "),t.TgZ(4,"form",1),t.NdJ("ngSubmit",function(){return a.submit()}),t._uU(5,"\n\n      "),t.TgZ(6,"mat-card-content"),t._uU(7,"\n\n        "),t.TgZ(8,"div",2),t._uU(9,"\n\n          "),t.TgZ(10,"mat-form-field",3),t.NdJ("click",function(){t.CHM(s);const u=t.MAs(21);return t.KtG(u.open())}),t._uU(11,"\n            "),t.TgZ(12,"mat-label"),t._uU(13),t.ALo(14,"translate"),t.qZA(),t._uU(15,"\n            "),t._UZ(16,"input",4),t._uU(17,"\n            "),t._UZ(18,"mat-datepicker-toggle",5),t._uU(19,"\n            "),t._UZ(20,"mat-datepicker",null,6),t._uU(22,"\n            "),t.YNc(23,Sn,8,9,"mat-error",7),t._uU(24,"\n          "),t.qZA(),t._uU(25,"\n\n          "),t.TgZ(26,"mat-form-field"),t._uU(27,"\n            "),t.TgZ(28,"mat-label"),t._uU(29),t.ALo(30,"translate"),t.qZA(),t._uU(31,"\n            "),t._UZ(32,"textarea",8),t._uU(33,"\n          "),t.qZA(),t._uU(34,"\n\n        "),t.qZA(),t._uU(35,"\n\n      "),t.qZA(),t._uU(36,"\n\n      "),t.TgZ(37,"mat-card-actions",9),t._uU(38,"\n        "),t.TgZ(39,"button",10),t._uU(40),t.ALo(41,"translate"),t.qZA(),t._uU(42,"\n        "),t.TgZ(43,"button",11),t._uU(44),t.ALo(45,"translate"),t.qZA(),t._uU(46,"\n      "),t.qZA(),t._uU(47,"\n\n    "),t.qZA(),t._uU(48,"\n\n  "),t.qZA(),t._uU(49,"\n\n"),t.qZA(),t._uU(50,"\n")}if(2&n){const s=t.MAs(21);t.xp6(4),t.Q6J("formGroup",a.closeSharesAccountForm),t.xp6(9),t.Oqu(t.lcZ(14,12,"labels.inputs.Closed On Date")),t.xp6(3),t.Q6J("min",a.minDate)("max",a.maxDate)("matDatepicker",s),t.xp6(2),t.Q6J("for",s),t.xp6(5),t.Q6J("ngIf",a.closeSharesAccountForm.controls.closedDate.hasError("required")),t.xp6(6),t.Oqu(t.lcZ(30,14,"labels.inputs.Note")),t.xp6(10),t.Q6J("routerLink",t.DdM(20,vn)),t.xp6(1),t.Oqu(t.lcZ(41,16,"labels.buttons.Cancel")),t.xp6(3),t.Q6J("disabled",!a.closeSharesAccountForm.valid),t.xp6(1),t.Oqu(t.lcZ(45,18,"labels.buttons.Confirm"))}},dependencies:[f.O5,m.xw,m.SQ,m.Wh,T.lW,h.a8,h.dn,h.hq,d.Mq,d.hl,d.nW,_.TO,_.KE,_.hX,_.R9,R.IC,S.Nt,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.sg,c.u,p.rH,A.X$],styles:[".container[_ngcontent-%COMP%]{max-width:37rem}"]}),e})();function qn(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"translate"),t.TgZ(4,"strong"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._uU(7,"\n            "),t.qZA()),2&e&&(t.xp6(1),t.AsE("\n              ",t.lcZ(2,3,"labels.inputs.Activated On Date")," ",t.lcZ(3,5,"labels.commons.is")," "),t.xp6(4),t.Oqu(t.lcZ(6,7,"labels.commons.required")))}const Dn=function(){return["../../"]};let yn=(()=>{class e{constructor(n,a,s,r,u,g){this.formBuilder=n,this.sharesService=a,this.dateUtils=s,this.route=r,this.router=u,this.settingsService=g,this.minDate=new Date(2e3,0,1),this.maxDate=new Date,this.accountId=this.route.parent.snapshot.params.shareAccountId}ngOnInit(){this.maxDate=this.settingsService.businessDate,this.createActivateSharesAccountForm()}createActivateSharesAccountForm(){this.activateSharesAccountForm=this.formBuilder.group({activatedDate:["",c.kI.required]})}submit(){const n=this.activateSharesAccountForm.value,a=this.settingsService.language.code,s=this.settingsService.dateFormat;n.activatedDate instanceof Date&&(n.activatedDate=this.dateUtils.formatDate(this.activateSharesAccountForm.value.activatedDate,s));const u={...n,dateFormat:s,locale:a};this.sharesService.executeSharesAccountCommand(this.accountId,"activate",u).subscribe(()=>{this.router.navigate(["../../"],{relativeTo:this.route})})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(c.QS),t.Y36(U),t.Y36(v.L),t.Y36(p.gz),t.Y36(p.F0),t.Y36(x.g))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-activate-shares-account"]],decls:39,vars:18,consts:[[1,"container"],[3,"formGroup","ngSubmit"],["fxFlex","",3,"click"],["matInput","","required","","formControlName","activatedDate",3,"min","max","matDatepicker"],["matSuffix","",3,"for"],["activatedDatePicker",""],[4,"ngIf"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","center","fxLayoutGap","5px"],["type","button","mat-raised-button","",3,"routerLink"],["mat-raised-button","",3,"disabled"]],template:function(n,a){if(1&n){const s=t.EpF();t.TgZ(0,"div",0),t._uU(1,"\n\n  "),t.TgZ(2,"mat-card"),t._uU(3,"\n\n    "),t.TgZ(4,"form",1),t.NdJ("ngSubmit",function(){return a.submit()}),t._uU(5,"\n\n      "),t.TgZ(6,"mat-card-content"),t._uU(7,"\n\n          "),t.TgZ(8,"mat-form-field",2),t.NdJ("click",function(){t.CHM(s);const u=t.MAs(19);return t.KtG(u.open())}),t._uU(9,"\n            "),t.TgZ(10,"mat-label"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t._uU(13,"\n            "),t._UZ(14,"input",3),t._uU(15,"\n            "),t._UZ(16,"mat-datepicker-toggle",4),t._uU(17,"\n            "),t._UZ(18,"mat-datepicker",null,5),t._uU(20,"\n            "),t.YNc(21,qn,8,9,"mat-error",6),t._uU(22,"\n          "),t.qZA(),t._uU(23,"\n\n      "),t.qZA(),t._uU(24,"\n\n      "),t.TgZ(25,"mat-card-actions",7),t._uU(26,"\n        "),t.TgZ(27,"button",8),t._uU(28),t.ALo(29,"translate"),t.qZA(),t._uU(30,"\n        "),t.TgZ(31,"button",9),t._uU(32),t.ALo(33,"translate"),t.qZA(),t._uU(34,"\n      "),t.qZA(),t._uU(35,"\n\n    "),t.qZA(),t._uU(36,"\n\n  "),t.qZA(),t._uU(37,"\n\n"),t.qZA(),t._uU(38,"\n")}if(2&n){const s=t.MAs(19);t.xp6(4),t.Q6J("formGroup",a.activateSharesAccountForm),t.xp6(7),t.Oqu(t.lcZ(12,11,"labels.inputs.Activated On Date")),t.xp6(3),t.Q6J("min",a.minDate)("max",a.maxDate)("matDatepicker",s),t.xp6(2),t.Q6J("for",s),t.xp6(5),t.Q6J("ngIf",a.activateSharesAccountForm.controls.activatedDate.hasError("required")),t.xp6(6),t.Q6J("routerLink",t.DdM(17,Dn)),t.xp6(1),t.Oqu(t.lcZ(29,13,"labels.buttons.Cancel")),t.xp6(3),t.Q6J("disabled",!a.activateSharesAccountForm.valid),t.xp6(1),t.Oqu(t.lcZ(33,15,"labels.buttons.Confirm"))}},dependencies:[f.O5,m.xw,m.SQ,m.Wh,m.yH,T.lW,h.a8,h.dn,h.hq,d.Mq,d.hl,d.nW,_.TO,_.KE,_.hX,_.R9,S.Nt,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.sg,c.u,p.rH,A.X$],styles:[".container[_ngcontent-%COMP%]{max-width:37rem}"]}),e})();const Pn=function(){return["../../"]};let Ln=(()=>{class e{constructor(n,a,s){this.sharesService=n,this.route=a,this.router=s,this.accountId=this.route.parent.snapshot.params.shareAccountId}submit(){this.sharesService.executeSharesAccountCommand(this.accountId,"undoapproval",{}).subscribe(()=>{this.router.navigate(["../../"],{relativeTo:this.route})})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(U),t.Y36(p.gz),t.Y36(p.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-undo-approval-shares-account"]],decls:30,vars:12,consts:[[1,"container"],[3,"ngSubmit"],[1,"mat-typography","confirm-text"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","center","fxLayoutGap","5px"],["type","button","mat-raised-button","",3,"routerLink"],["mat-raised-button","","color","warn"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0),t._uU(1,"\n\n  "),t.TgZ(2,"mat-card"),t._uU(3,"\n\n    "),t.TgZ(4,"form",1),t.NdJ("ngSubmit",function(){return a.submit()}),t._uU(5,"\n\n      "),t.TgZ(6,"mat-card-content"),t._uU(7,"\n\n        "),t.TgZ(8,"div"),t._uU(9,"\n\n          "),t.TgZ(10,"p",2),t._uU(11),t.ALo(12,"translate"),t.qZA(),t._uU(13,"\n\n        "),t.qZA(),t._uU(14,"\n\n      "),t.qZA(),t._uU(15,"\n\n      "),t.TgZ(16,"mat-card-actions",3),t._uU(17,"\n        "),t.TgZ(18,"button",4),t._uU(19),t.ALo(20,"translate"),t.qZA(),t._uU(21,"\n        "),t.TgZ(22,"button",5),t._uU(23),t.ALo(24,"translate"),t.qZA(),t._uU(25,"\n      "),t.qZA(),t._uU(26,"\n\n    "),t.qZA(),t._uU(27,"\n\n  "),t.qZA(),t._uU(28,"\n\n"),t.qZA(),t._uU(29,"\n")),2&n&&(t.xp6(11),t.AsE("\n            ",t.lcZ(12,5,"labels.text.Undo approval of shares account with ID"),": ",a.accountId," ?\n          "),t.xp6(7),t.Q6J("routerLink",t.DdM(11,Pn)),t.xp6(1),t.Oqu(t.lcZ(20,7,"labels.buttons.Cancel")),t.xp6(4),t.Oqu(t.lcZ(24,9,"labels.buttons.Confirm")))},dependencies:[m.xw,m.SQ,m.Wh,T.lW,h.a8,h.dn,h.hq,c._Y,c.JL,c.F,p.rH,A.X$],styles:[".container[_ngcontent-%COMP%]{max-width:37rem}.container[_ngcontent-%COMP%]   .confirm-text[_ngcontent-%COMP%]{font-size:16px;text-align:center}"]}),e})();function On(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"translate"),t.TgZ(4,"strong"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._uU(7,"\n            "),t.qZA()),2&e&&(t.xp6(1),t.AsE("\n              ",t.lcZ(2,3,"labels.inputs.Request Date")," ",t.lcZ(3,5,"labels.commons.is")," "),t.xp6(4),t.Oqu(t.lcZ(6,7,"labels.commons.required")))}function Fn(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"translate"),t.TgZ(4,"strong"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._uU(7,"\n            "),t.qZA()),2&e&&(t.xp6(1),t.AsE("\n              ",t.lcZ(2,3,"labels.inputs.Requested Shares")," ",t.lcZ(3,5,"labels.commons.is")," "),t.xp6(4),t.Oqu(t.lcZ(6,7,"labels.commons.required")))}const Nn=function(){return["../../"]};let wn=(()=>{class e{constructor(n,a,s,r,u,g){this.formBuilder=n,this.sharesService=a,this.dateUtils=s,this.route=r,this.router=u,this.settingsService=g,this.minDate=new Date(2e3,0,1),this.maxDate=new Date,this.accountId=this.route.parent.snapshot.params.shareAccountId,this.route.data.subscribe(b=>{this.sharesAccountData=b.shareAccountActionData})}ngOnInit(){this.maxDate=this.settingsService.businessDate,this.createApplySharesAccountForm(),this.applySharesForm.get("unitPrice").patchValue(this.sharesAccountData.currentMarketPrice||"")}createApplySharesAccountForm(){this.applySharesForm=this.formBuilder.group({requestedDate:["",c.kI.required],requestedShares:["",c.kI.required],unitPrice:[{value:"",disabled:!0}]})}submit(){const n=this.applySharesForm.value,a=this.settingsService.language.code,s=this.settingsService.dateFormat;n.requestedDate instanceof Date&&(n.requestedDate=this.dateUtils.formatDate(this.applySharesForm.value.requestedDate,s));const u={...n,unitPrice:this.applySharesForm.get("unitPrice").value,dateFormat:s,locale:a};this.sharesService.executeSharesAccountCommand(this.accountId,"applyadditionalshares",u).subscribe(()=>{this.router.navigate(["../../"],{relativeTo:this.route})})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(c.QS),t.Y36(U),t.Y36(v.L),t.Y36(p.gz),t.Y36(p.F0),t.Y36(x.g))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-apply-shares"]],decls:61,vars:22,consts:[[1,"container"],[3,"formGroup","ngSubmit"],["fxLayout","column"],[3,"click"],["matInput","","required","","formControlName","requestedDate",3,"min","max","matDatepicker"],["matSuffix","",3,"for"],["requestedDatePicker",""],[4,"ngIf"],["matInput","","required","","formControlName","requestedShares"],["matInput","","required","","formControlName","unitPrice"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","center","fxLayoutGap","5px"],["type","button","mat-raised-button","",3,"routerLink"],["mat-raised-button","",3,"disabled"]],template:function(n,a){if(1&n){const s=t.EpF();t.TgZ(0,"div",0),t._uU(1,"\n\n  "),t.TgZ(2,"mat-card"),t._uU(3,"\n\n    "),t.TgZ(4,"form",1),t.NdJ("ngSubmit",function(){return a.submit()}),t._uU(5,"\n\n      "),t.TgZ(6,"mat-card-content"),t._uU(7,"\n\n        "),t.TgZ(8,"div",2),t._uU(9,"\n\n          "),t.TgZ(10,"mat-form-field",3),t.NdJ("click",function(){t.CHM(s);const u=t.MAs(21);return t.KtG(u.open())}),t._uU(11,"\n            "),t.TgZ(12,"mat-label"),t._uU(13),t.ALo(14,"translate"),t.qZA(),t._uU(15,"\n            "),t._UZ(16,"input",4),t._uU(17,"\n            "),t._UZ(18,"mat-datepicker-toggle",5),t._uU(19,"\n            "),t._UZ(20,"mat-datepicker",null,6),t._uU(22,"\n            "),t.YNc(23,On,8,9,"mat-error",7),t._uU(24,"\n          "),t.qZA(),t._uU(25,"\n\n          "),t.TgZ(26,"mat-form-field"),t._uU(27,"\n            "),t.TgZ(28,"mat-label"),t._uU(29),t.ALo(30,"translate"),t.qZA(),t._uU(31,"\n            "),t._UZ(32,"input",8),t._uU(33,"\n            "),t.YNc(34,Fn,8,9,"mat-error",7),t._uU(35,"\n          "),t.qZA(),t._uU(36,"\n\n          "),t.TgZ(37,"mat-form-field"),t._uU(38,"\n            "),t.TgZ(39,"mat-label"),t._uU(40,"{{'labels.inputs.Today's Price' | translate}}"),t.qZA(),t._uU(41,"\n            "),t._UZ(42,"input",9),t._uU(43,"\n          "),t.qZA(),t._uU(44,"\n\n        "),t.qZA(),t._uU(45,"\n\n      "),t.qZA(),t._uU(46,"\n\n      "),t.TgZ(47,"mat-card-actions",10),t._uU(48,"\n        "),t.TgZ(49,"button",11),t._uU(50),t.ALo(51,"translate"),t.qZA(),t._uU(52,"\n        "),t.TgZ(53,"button",12),t._uU(54),t.ALo(55,"translate"),t.qZA(),t._uU(56,"\n      "),t.qZA(),t._uU(57,"\n\n    "),t.qZA(),t._uU(58,"\n\n  "),t.qZA(),t._uU(59,"\n\n"),t.qZA(),t._uU(60,"\n")}if(2&n){const s=t.MAs(21);t.xp6(4),t.Q6J("formGroup",a.applySharesForm),t.xp6(9),t.Oqu(t.lcZ(14,13,"labels.inputs.Request Date")),t.xp6(3),t.Q6J("min",a.minDate)("max",a.maxDate)("matDatepicker",s),t.xp6(2),t.Q6J("for",s),t.xp6(5),t.Q6J("ngIf",a.applySharesForm.controls.requestedDate.hasError("required")),t.xp6(6),t.Oqu(t.lcZ(30,15,"labels.inputs.Total No. of Shares")),t.xp6(5),t.Q6J("ngIf",a.applySharesForm.controls.requestedShares.hasError("required")),t.xp6(15),t.Q6J("routerLink",t.DdM(21,Nn)),t.xp6(1),t.Oqu(t.lcZ(51,17,"labels.buttons.Cancel")),t.xp6(3),t.Q6J("disabled",!a.applySharesForm.valid),t.xp6(1),t.Oqu(t.lcZ(55,19,"labels.buttons.Confirm"))}},dependencies:[f.O5,m.xw,m.SQ,m.Wh,T.lW,h.a8,h.dn,h.hq,d.Mq,d.hl,d.nW,_.TO,_.KE,_.hX,_.R9,S.Nt,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.sg,c.u,p.rH,A.X$],styles:[".container[_ngcontent-%COMP%]{max-width:37rem}"]}),e})();function Yn(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"translate"),t.TgZ(4,"strong"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._uU(7,"\n            "),t.qZA()),2&e&&(t.xp6(1),t.AsE("\n              ",t.lcZ(2,3,"labels.inputs.Request Date")," ",t.lcZ(3,5,"labels.commons.is")," "),t.xp6(4),t.Oqu(t.lcZ(6,7,"labels.commons.required")))}function In(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"translate"),t.TgZ(4,"strong"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._uU(7,"\n            "),t.qZA()),2&e&&(t.xp6(1),t.AsE("\n              ",t.lcZ(2,3,"labels.inputs.Requested Shares")," ",t.lcZ(3,5,"labels.commons.is")," "),t.xp6(4),t.Oqu(t.lcZ(6,7,"labels.commons.required")))}const kn=function(){return["../../"]};let Qn=(()=>{class e{constructor(n,a,s,r,u,g){this.formBuilder=n,this.sharesService=a,this.dateUtils=s,this.route=r,this.router=u,this.settingsService=g,this.minDate=new Date(2e3,0,1),this.maxDate=new Date,this.accountId=this.route.parent.snapshot.params.shareAccountId,this.route.data.subscribe(b=>{this.sharesAccountData=b.shareAccountActionData})}ngOnInit(){this.maxDate=this.settingsService.businessDate,this.createRedeemSharesAccountForm(),this.redeemSharesForm.get("unitPrice").patchValue(this.sharesAccountData.currentMarketPrice||"")}createRedeemSharesAccountForm(){this.redeemSharesForm=this.formBuilder.group({requestedDate:["",c.kI.required],requestedShares:["",c.kI.required],unitPrice:[{value:"",disabled:!0}]})}submit(){const n=this.redeemSharesForm.value,a=this.settingsService.language.code,s=this.settingsService.dateFormat;n.requestedDate instanceof Date&&(n.requestedDate=this.dateUtils.formatDate(this.redeemSharesForm.value.requestedDate,s));const u={...n,unitPrice:this.redeemSharesForm.get("unitPrice").value,dateFormat:s,locale:a};this.sharesService.executeSharesAccountCommand(this.accountId,"redeemshares",u).subscribe(()=>{this.router.navigate(["../../"],{relativeTo:this.route})})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(c.QS),t.Y36(U),t.Y36(v.L),t.Y36(p.gz),t.Y36(p.F0),t.Y36(x.g))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-redeem-shares"]],decls:62,vars:25,consts:[[1,"container"],[3,"formGroup","ngSubmit"],["fxLayout","column"],[3,"click"],["matInput","","required","","formControlName","requestedDate",3,"min","max","matDatepicker"],["matSuffix","",3,"for"],["requestedDatePicker",""],[4,"ngIf"],["matInput","","required","","formControlName","requestedShares"],["matInput","","required","","formControlName","unitPrice"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","center","fxLayoutGap","5px"],["type","button","mat-raised-button","",3,"routerLink"],["mat-raised-button","","color","warn",3,"disabled"]],template:function(n,a){if(1&n){const s=t.EpF();t.TgZ(0,"div",0),t._uU(1,"\n\n  "),t.TgZ(2,"mat-card"),t._uU(3,"\n\n    "),t.TgZ(4,"form",1),t.NdJ("ngSubmit",function(){return a.submit()}),t._uU(5,"\n\n      "),t.TgZ(6,"mat-card-content"),t._uU(7,"\n\n        "),t.TgZ(8,"div",2),t._uU(9,"\n\n          "),t.TgZ(10,"mat-form-field",3),t.NdJ("click",function(){t.CHM(s);const u=t.MAs(21);return t.KtG(u.open())}),t._uU(11,"\n            "),t.TgZ(12,"mat-label"),t._uU(13),t.ALo(14,"translate"),t.qZA(),t._uU(15,"\n            "),t._UZ(16,"input",4),t._uU(17,"\n            "),t._UZ(18,"mat-datepicker-toggle",5),t._uU(19,"\n            "),t._UZ(20,"mat-datepicker",null,6),t._uU(22,"\n            "),t.YNc(23,Yn,8,9,"mat-error",7),t._uU(24,"\n          "),t.qZA(),t._uU(25,"\n\n          "),t.TgZ(26,"mat-form-field"),t._uU(27,"\n            "),t.TgZ(28,"mat-label"),t._uU(29),t.ALo(30,"translate"),t.qZA(),t._uU(31,"\n            "),t._UZ(32,"input",8),t._uU(33,"\n            "),t.YNc(34,In,8,9,"mat-error",7),t._uU(35,"\n          "),t.qZA(),t._uU(36,"\n\n          "),t.TgZ(37,"mat-form-field"),t._uU(38,"\n            "),t.TgZ(39,"mat-label"),t._uU(40),t.ALo(41,"translate"),t.qZA(),t._uU(42,"\n            "),t._UZ(43,"input",9),t._uU(44,"\n          "),t.qZA(),t._uU(45,"\n        "),t.qZA(),t._uU(46,"\n      "),t.qZA(),t._uU(47,"\n\n      "),t.TgZ(48,"mat-card-actions",10),t._uU(49,"\n        "),t.TgZ(50,"button",11),t._uU(51),t.ALo(52,"translate"),t.qZA(),t._uU(53,"\n        "),t.TgZ(54,"button",12),t._uU(55),t.ALo(56,"translate"),t.qZA(),t._uU(57,"\n      "),t.qZA(),t._uU(58,"\n\n    "),t.qZA(),t._uU(59,"\n\n  "),t.qZA(),t._uU(60,"\n\n"),t.qZA(),t._uU(61,"\n")}if(2&n){const s=t.MAs(21);t.xp6(4),t.Q6J("formGroup",a.redeemSharesForm),t.xp6(9),t.Oqu(t.lcZ(14,14,"labels.inputs.Request Date")),t.xp6(3),t.Q6J("min",a.minDate)("max",a.maxDate)("matDatepicker",s),t.xp6(2),t.Q6J("for",s),t.xp6(5),t.Q6J("ngIf",a.redeemSharesForm.controls.requestedDate.hasError("required")),t.xp6(6),t.Oqu(t.lcZ(30,16,"labels.inputs.Total No. of Shares")),t.xp6(5),t.Q6J("ngIf",a.redeemSharesForm.controls.requestedShares.hasError("required")),t.xp6(6),t.Oqu(t.lcZ(41,18,"labels.inputs.Today's Price")),t.xp6(10),t.Q6J("routerLink",t.DdM(24,kn)),t.xp6(1),t.Oqu(t.lcZ(52,20,"labels.buttons.Cancel")),t.xp6(3),t.Q6J("disabled",!a.redeemSharesForm.valid),t.xp6(1),t.Oqu(t.lcZ(56,22,"labels.buttons.Confirm"))}},dependencies:[f.O5,m.xw,m.SQ,m.Wh,T.lW,h.a8,h.dn,h.hq,d.Mq,d.hl,d.nW,_.TO,_.KE,_.hX,_.R9,S.Nt,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.sg,c.u,p.rH,A.X$],styles:[".container[_ngcontent-%COMP%]{max-width:37rem}"]}),e})();var N=l(98739),y=l(96308);const Mn=function(){return{approve:!0}};let Rn=(()=>{class e{constructor(n,a){this.dialogRef=n,this.data=a}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(Z.so),t.Y36(Z.WI))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-approve-share-dialog"]],decls:22,vars:15,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["align","end"],["mat-raised-button","","mat-dialog-close",""],["mat-raised-button","",3,"mat-dialog-close"]],template:function(n,a){1&n&&(t.TgZ(0,"h1",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t._uU(3,"\n"),t.TgZ(4,"div",1),t._uU(5,"\n  "),t.TgZ(6,"p"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t._uU(9,"\n"),t.qZA(),t._uU(10,"\n"),t.TgZ(11,"mat-dialog-actions",2),t._uU(12,"\n  "),t.TgZ(13,"button",3),t._uU(14),t.ALo(15,"translate"),t.qZA(),t._uU(16,"\n  "),t.TgZ(17,"button",4),t._uU(18),t.ALo(19,"translate"),t.qZA(),t._uU(20,"\n"),t.qZA(),t._uU(21,"\n")),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,6,"labels.heading.Approve Share")),t.xp6(6),t.AsE("",t.lcZ(8,8,"labels.text.Are you sure you want to approve share with id"),": ",a.data.shareId," ?"),t.xp6(7),t.Oqu(t.lcZ(15,10,"labels.buttons.Cancel")),t.xp6(3),t.Q6J("mat-dialog-close",t.DdM(14,Mn)),t.xp6(1),t.Oqu(t.lcZ(19,12,"labels.buttons.Confirm")))},dependencies:[T.lW,Z.ZT,Z.uh,Z.xY,Z.H8,A.X$]}),e})();const jn=["sharesTable"];function Jn(e,o){1&e&&(t.TgZ(0,"th",15),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"labels.inputs.Transaction Date")," "))}function En(e,o){if(1&e&&(t.TgZ(0,"td",16),t._uU(1),t.ALo(2,"dateFormat"),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,n.purchasedDate),"")}}function Hn(e,o){1&e&&(t.TgZ(0,"th",15),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"labels.inputs.Total Shares")," "))}function Bn(e,o){if(1&e&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.numberOfShares," ")}}function Gn(e,o){1&e&&(t.TgZ(0,"th",15),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"labels.inputs.Purchased/Redeemed Price")," "))}function $n(e,o){if(1&e&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.purchasedPrice," ")}}function zn(e,o){1&e&&(t.TgZ(0,"th",17),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"labels.inputs.Status")," "))}function Xn(e,o){if(1&e&&(t.TgZ(0,"td",16),t._uU(1,"\n          "),t._UZ(2,"i",18),t.ALo(3,"statusLookup"),t._uU(4,"\n        "),t.qZA()),2&e){const n=o.$implicit;t.xp6(2),t.Q6J("ngClass",t.lcZ(3,2,n.status.code))("matTooltip",n.status.value)}}function Vn(e,o){1&e&&(t.TgZ(0,"th",15),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"labels.inputs.Confirm Approve")," "))}function Wn(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"td",16),t._uU(1,"\n          "),t.TgZ(2,"button",19),t.NdJ("click",function(){const r=t.CHM(n).$implicit,u=t.oxw();return t.KtG(u.approve(r.id))}),t.ALo(3,"translate"),t._uU(4,"\n            "),t._UZ(5,"i",20),t._uU(6,"\n          "),t.qZA(),t._uU(7,"\n        "),t.qZA()}2&e&&(t.xp6(2),t.s9C("matTooltip",t.lcZ(3,1,"tooltips.Approve Share")))}function Kn(e,o){1&e&&t._UZ(0,"tr",21)}function ta(e,o){1&e&&t._UZ(0,"tr",22)}const ea=function(){return[10,25,50,100]};let na=(()=>{class e{constructor(n,a,s,r){this.sharesService=n,this.route=a,this.dialog=s,this.settingsService=r,this.displayedColumns=["transactionDate","totalShares","redeemedPrice","status","approve"],this.accountId=this.route.parent.snapshot.params.shareAccountId,this.route.data.subscribe(u=>{this.sharesAccountData=u.shareAccountActionData})}ngOnInit(){this.sharesData=this.sharesAccountData.purchasedShares.filter(n=>"Pending Approval"===n.status.value),this.setShares()}setShares(){this.dataSource=new i.by(this.sharesData),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}approve(n){this.dialog.open(Rn,{data:{shareId:n}}).afterClosed().subscribe(s=>{s.approve&&this.sharesService.executeSharesAccountCommand(this.accountId,"approveadditionalshares",{requestedShares:[{id:n}],dateFormat:this.settingsService.dateFormat,locale:this.settingsService.language.code}).subscribe(()=>{const b=this.sharesData.find(J=>J.id===n),j=this.sharesData.indexOf(b);this.sharesData.splice(j,1),this.dataSource.data=this.sharesData,this.sharesTableRef.renderRows()})})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(U),t.Y36(p.gz),t.Y36(Z.uw),t.Y36(x.g))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-approve-shares"]],viewQuery:function(n,a){if(1&n&&(t.Gf(N.NW,7),t.Gf(y.YE,7),t.Gf(jn,7)),2&n){let s;t.iGM(s=t.CRH())&&(a.paginator=s.first),t.iGM(s=t.CRH())&&(a.sort=s.first),t.iGM(s=t.CRH())&&(a.sharesTableRef=s.first)}},decls:51,vars:5,consts:[[1,"container"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["sharesTable",""],["matColumnDef","transactionDate"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","totalShares"],["matColumnDef","redeemedPrice"],["matColumnDef","status"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","approve"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[1,"fa","fa-stop",3,"ngClass","matTooltip"],["mat-raised-button","","color","accent",1,"share-action-button",3,"matTooltip","click"],[1,"fa","fa-check"],["mat-header-row",""],["mat-row",""]],template:function(n,a){1&n&&(t.TgZ(0,"div",0),t._uU(1,"\n\n  "),t.TgZ(2,"div",1),t._uU(3,"\n\n    "),t.TgZ(4,"table",2,3),t._uU(6,"\n\n      "),t.ynx(7,4),t._uU(8,"\n        "),t.YNc(9,Jn,3,3,"th",5),t._uU(10,"\n        "),t.YNc(11,En,3,3,"td",6),t._uU(12,"\n      "),t.BQk(),t._uU(13,"\n\n      "),t.ynx(14,7),t._uU(15,"\n        "),t.YNc(16,Hn,3,3,"th",5),t._uU(17,"\n        "),t.YNc(18,Bn,2,1,"td",6),t._uU(19,"\n      "),t.BQk(),t._uU(20,"\n\n      "),t.ynx(21,8),t._uU(22,"\n        "),t.YNc(23,Gn,3,3,"th",5),t._uU(24,"\n        "),t.YNc(25,$n,2,1,"td",6),t._uU(26,"\n      "),t.BQk(),t._uU(27,"\n\n      "),t.ynx(28,9),t._uU(29,"\n        "),t.YNc(30,zn,3,3,"th",10),t._uU(31,"\n        "),t.YNc(32,Xn,5,4,"td",6),t._uU(33,"\n      "),t.BQk(),t._uU(34,"\n\n      "),t.ynx(35,11),t._uU(36,"\n        "),t.YNc(37,Vn,3,3,"th",5),t._uU(38,"\n        "),t.YNc(39,Wn,8,3,"td",6),t._uU(40,"\n      "),t.BQk(),t._uU(41,"\n\n      "),t.YNc(42,Kn,1,0,"tr",12),t._uU(43,"\n      "),t.YNc(44,ta,1,0,"tr",13),t._uU(45,"\n\n    "),t.qZA(),t._uU(46,"\n\n    "),t._UZ(47,"mat-paginator",14),t._uU(48,"\n\n  "),t.qZA(),t._uU(49,"\n\n"),t.qZA(),t._uU(50,"\n")),2&n&&(t.xp6(4),t.Q6J("dataSource",a.dataSource),t.xp6(38),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(2),t.Q6J("matRowDefColumns",a.displayedColumns),t.xp6(3),t.Q6J("pageSizeOptions",t.DdM(4,ea)))},dependencies:[f.mk,w.oO,T.lW,N.NW,y.YE,y.nU,i.BZ,i.fO,i.as,i.w1,i.Dz,i.nj,i.ge,i.ev,i.XQ,i.Gk,I.gM,A.X$,k.F,q.E],styles:["table[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{cursor:pointer}table[_ngcontent-%COMP%]   .share-action-button[_ngcontent-%COMP%]{min-width:26px;padding:0 6px;margin:4px;line-height:25px}"]}),e})();const aa=function(){return{reject:!0}};let oa=(()=>{class e{constructor(n,a){this.dialogRef=n,this.data=a}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(Z.so),t.Y36(Z.WI))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-reject-share-dialog"]],decls:22,vars:15,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["align","end"],["mat-raised-button","","mat-dialog-close",""],["mat-raised-button","","color","warn",3,"mat-dialog-close"]],template:function(n,a){1&n&&(t.TgZ(0,"h1",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t._uU(3,"\n"),t.TgZ(4,"div",1),t._uU(5,"\n  "),t.TgZ(6,"p"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t._uU(9,"\n"),t.qZA(),t._uU(10,"\n"),t.TgZ(11,"mat-dialog-actions",2),t._uU(12,"\n  "),t.TgZ(13,"button",3),t._uU(14),t.ALo(15,"translate"),t.qZA(),t._uU(16,"\n  "),t.TgZ(17,"button",4),t._uU(18),t.ALo(19,"translate"),t.qZA(),t._uU(20,"\n"),t.qZA(),t._uU(21,"\n")),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,6,"labels.heading.Reject Share")),t.xp6(6),t.AsE("",t.lcZ(8,8,"labels.text.Are you sure you want to reject share with id"),": ",a.data.shareId," ?"),t.xp6(7),t.Oqu(t.lcZ(15,10,"labels.buttons.Cancel")),t.xp6(3),t.Q6J("mat-dialog-close",t.DdM(14,aa)),t.xp6(1),t.Oqu(t.lcZ(19,12,"labels.buttons.Confirm")))},dependencies:[T.lW,Z.ZT,Z.uh,Z.xY,Z.H8,A.X$]}),e})();const sa=["sharesTable"];function ra(e,o){1&e&&(t.TgZ(0,"th",15),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"labels.inputs.Transaction Date")," "))}function ca(e,o){if(1&e&&(t.TgZ(0,"td",16),t._uU(1),t.ALo(2,"dateFormat"),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,n.purchasedDate),"")}}function ia(e,o){1&e&&(t.TgZ(0,"th",15),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"labels.inputs.Total Shares")," "))}function ua(e,o){if(1&e&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.numberOfShares," ")}}function la(e,o){1&e&&(t.TgZ(0,"th",15),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"labels.inputs.Purchased/Redeemed Price")," "))}function ma(e,o){if(1&e&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.purchasedPrice," ")}}function pa(e,o){1&e&&(t.TgZ(0,"th",17),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"labels.inputs.Status")," "))}function _a(e,o){if(1&e&&(t.TgZ(0,"td",16),t._uU(1,"\n          "),t._UZ(2,"i",18),t.ALo(3,"statusLookup"),t._uU(4,"\n        "),t.qZA()),2&e){const n=o.$implicit;t.xp6(2),t.Q6J("ngClass",t.lcZ(3,2,n.status.code))("matTooltip",n.status.value)}}function ha(e,o){1&e&&(t.TgZ(0,"th",15),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"labels.inputs.Confirm Reject"),"t "))}function da(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"td",16),t._uU(1,"\n          "),t.TgZ(2,"button",19),t.NdJ("click",function(){const r=t.CHM(n).$implicit,u=t.oxw();return t.KtG(u.reject(r.id))}),t.ALo(3,"translate"),t._uU(4,"\n            "),t._UZ(5,"i",20),t._uU(6,"\n          "),t.qZA(),t._uU(7,"\n        "),t.qZA()}2&e&&(t.xp6(2),t.s9C("matTooltip",t.lcZ(3,1,"tooltips.Reject Share")))}function Aa(e,o){1&e&&t._UZ(0,"tr",21)}function ga(e,o){1&e&&t._UZ(0,"tr",22)}const fa=function(){return[10,25,50,100]};let Ua=(()=>{class e{constructor(n,a,s,r){this.sharesService=n,this.route=a,this.dialog=s,this.settingsService=r,this.displayedColumns=["transactionDate","totalShares","redeemedPrice","status","reject"],this.accountId=this.route.parent.snapshot.params.shareAccountId,this.route.data.subscribe(u=>{this.sharesAccountData=u.shareAccountActionData})}ngOnInit(){this.sharesData=this.sharesAccountData.purchasedShares.filter(n=>"Pending Approval"===n.status.value),this.setShares()}setShares(){this.dataSource=new i.by(this.sharesData),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}reject(n){this.dialog.open(oa,{data:{shareId:n}}).afterClosed().subscribe(s=>{s.reject&&this.sharesService.executeSharesAccountCommand(this.accountId,"rejectadditionalshares",{requestedShares:[{id:n}],dateFormat:this.settingsService.dateFormat,locale:this.settingsService.language.code}).subscribe(()=>{const b=this.sharesData.find(J=>J.id===n),j=this.sharesData.indexOf(b);this.sharesData.splice(j,1),this.dataSource.data=this.sharesData,this.sharesTableRef.renderRows()})})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(U),t.Y36(p.gz),t.Y36(Z.uw),t.Y36(x.g))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-reject-shares"]],viewQuery:function(n,a){if(1&n&&(t.Gf(N.NW,7),t.Gf(y.YE,7),t.Gf(sa,7)),2&n){let s;t.iGM(s=t.CRH())&&(a.paginator=s.first),t.iGM(s=t.CRH())&&(a.sort=s.first),t.iGM(s=t.CRH())&&(a.sharesTableRef=s.first)}},decls:51,vars:5,consts:[[1,"container"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["sharesTable",""],["matColumnDef","transactionDate"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","totalShares"],["matColumnDef","redeemedPrice"],["matColumnDef","status"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","reject"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[1,"fa","fa-stop",3,"ngClass","matTooltip"],["mat-raised-button","","color","warn",1,"share-action-button",3,"matTooltip","click"],[1,"fa","fa-times"],["mat-header-row",""],["mat-row",""]],template:function(n,a){1&n&&(t.TgZ(0,"div",0),t._uU(1,"\n\n  "),t.TgZ(2,"div",1),t._uU(3,"\n\n    "),t.TgZ(4,"table",2,3),t._uU(6,"\n\n      "),t.ynx(7,4),t._uU(8,"\n        "),t.YNc(9,ra,3,3,"th",5),t._uU(10,"\n        "),t.YNc(11,ca,3,3,"td",6),t._uU(12,"\n      "),t.BQk(),t._uU(13,"\n\n      "),t.ynx(14,7),t._uU(15,"\n        "),t.YNc(16,ia,3,3,"th",5),t._uU(17,"\n        "),t.YNc(18,ua,2,1,"td",6),t._uU(19,"\n      "),t.BQk(),t._uU(20,"\n\n      "),t.ynx(21,8),t._uU(22,"\n        "),t.YNc(23,la,3,3,"th",5),t._uU(24,"\n        "),t.YNc(25,ma,2,1,"td",6),t._uU(26,"\n      "),t.BQk(),t._uU(27,"\n\n      "),t.ynx(28,9),t._uU(29,"\n        "),t.YNc(30,pa,3,3,"th",10),t._uU(31,"\n        "),t.YNc(32,_a,5,4,"td",6),t._uU(33,"\n      "),t.BQk(),t._uU(34,"\n\n      "),t.ynx(35,11),t._uU(36,"\n        "),t.YNc(37,ha,3,3,"th",5),t._uU(38,"\n        "),t.YNc(39,da,8,3,"td",6),t._uU(40,"\n      "),t.BQk(),t._uU(41,"\n\n      "),t.YNc(42,Aa,1,0,"tr",12),t._uU(43,"\n      "),t.YNc(44,ga,1,0,"tr",13),t._uU(45,"\n\n    "),t.qZA(),t._uU(46,"\n\n    "),t._UZ(47,"mat-paginator",14),t._uU(48,"\n\n  "),t.qZA(),t._uU(49,"\n\n"),t.qZA(),t._uU(50,"\n")),2&n&&(t.xp6(4),t.Q6J("dataSource",a.dataSource),t.xp6(38),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(2),t.Q6J("matRowDefColumns",a.displayedColumns),t.xp6(3),t.Q6J("pageSizeOptions",t.DdM(4,fa)))},dependencies:[f.mk,w.oO,T.lW,N.NW,y.YE,y.nU,i.BZ,i.fO,i.as,i.w1,i.Dz,i.nj,i.ge,i.ev,i.XQ,i.Gk,I.gM,A.X$,k.F,q.E],styles:["table[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{cursor:pointer}table[_ngcontent-%COMP%]   .share-action-button[_ngcontent-%COMP%]{min-width:26px;padding:0 6px;margin:4px;line-height:25px}"]}),e})();function Za(e,o){1&e&&t._UZ(0,"mifosx-approve-shares-account")}function Ta(e,o){1&e&&t._UZ(0,"mifosx-reject-shares-account")}function Ca(e,o){1&e&&t._UZ(0,"mifosx-close-shares-account")}function xa(e,o){1&e&&t._UZ(0,"mifosx-activate-shares-account")}function Sa(e,o){1&e&&t._UZ(0,"mifosx-undo-approval-shares-account")}function va(e,o){1&e&&t._UZ(0,"mifosx-apply-shares")}function ba(e,o){1&e&&t._UZ(0,"mifosx-redeem-shares")}function qa(e,o){1&e&&t._UZ(0,"mifosx-approve-shares")}function Da(e,o){1&e&&t._UZ(0,"mifosx-reject-shares")}let ya=(()=>{class e{constructor(n){this.route=n,this.actions={Approve:!1,Reject:!1,Close:!1,Activate:!1,"Undo Approval":!1,"Apply Additional Shares":!1,"Redeem Shares":!1,"Approve Additional Shares":!1,"Reject Additional Shares":!1},this.actions[this.route.snapshot.params.name]=!0}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(p.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mifosx-shares-account-actions"]],decls:17,vars:9,consts:[[4,"ngIf"]],template:function(n,a){1&n&&(t.YNc(0,Za,1,0,"mifosx-approve-shares-account",0),t._uU(1,"\n"),t.YNc(2,Ta,1,0,"mifosx-reject-shares-account",0),t._uU(3,"\n"),t.YNc(4,Ca,1,0,"mifosx-close-shares-account",0),t._uU(5,"\n"),t.YNc(6,xa,1,0,"mifosx-activate-shares-account",0),t._uU(7,"\n"),t.YNc(8,Sa,1,0,"mifosx-undo-approval-shares-account",0),t._uU(9,"\n"),t.YNc(10,va,1,0,"mifosx-apply-shares",0),t._uU(11,"\n"),t.YNc(12,ba,1,0,"mifosx-redeem-shares",0),t._uU(13,"\n"),t.YNc(14,qa,1,0,"mifosx-approve-shares",0),t._uU(15,"\n"),t.YNc(16,Da,1,0,"mifosx-reject-shares",0)),2&n&&(t.Q6J("ngIf",a.actions.Approve),t.xp6(2),t.Q6J("ngIf",a.actions.Reject),t.xp6(2),t.Q6J("ngIf",a.actions.Close),t.xp6(2),t.Q6J("ngIf",a.actions.Activate),t.xp6(2),t.Q6J("ngIf",a.actions["Undo Approval"]),t.xp6(2),t.Q6J("ngIf",a.actions["Apply Additional Shares"]),t.xp6(2),t.Q6J("ngIf",a.actions["Redeem Shares"]),t.xp6(2),t.Q6J("ngIf",a.actions["Approve Additional Shares"]),t.xp6(2),t.Q6J("ngIf",a.actions["Reject Additional Shares"]))},dependencies:[f.O5,Zn,xn,bn,yn,Ln,wn,Qn,na,Ua]}),e})(),z=(()=>{class e{constructor(n){this.sharesService=n}resolve(n){const a=n.paramMap.get("shareAccountId");return this.sharesService.getSharesAccountData(a,!1)}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(U))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})(),X=(()=>{class e{constructor(n){this.sharesService=n}resolve(n){const a=n.paramMap.get("name"),s=n.paramMap.get("shareAccountId")||n.parent.parent.paramMap.get("shareAccountId");switch(a){case"Apply Additional Shares":case"Redeem Shares":case"Approve Additional Shares":case"Reject Additional Shares":return this.sharesService.getSharesAccountData(s,!0);default:return}}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(U))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})(),V=(()=>{class e{constructor(n){this.sharesService=n}resolve(n){const a=n.parent.parent.paramMap.get("clientId");return this.sharesService.getSharesAccountTemplate(a)}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(U))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})(),W=(()=>{class e{constructor(n){this.sharesService=n}resolve(n){const a=n.paramMap.get("shareAccountId");return this.sharesService.getSharesAccountData(a,!0)}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(U))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})();const Pa=[{path:"",data:{title:"Shares",breadcrumb:"Shares",routeParamBreadcrumb:!1},children:[{path:"create",data:{title:"Create Shares Account",breadcrumb:"Create Shares Account"},component:sn,resolve:{sharesAccountTemplate:V}},{path:":shareAccountId",data:{title:"Shares Account View",routeParamBreadcrumb:"shareAccountId"},children:[{path:"",component:gt,resolve:{sharesAccountData:z},children:[{path:"transactions",component:Ot,data:{title:"Shares Account Transactions",breadcrumb:"Transactions",routeParamBreadcrumb:!1}},{path:"charges",component:Vt,data:{title:"Shares Account Charges",breadcrumb:"Charges",routeParamBreadcrumb:!1}},{path:"dividends",component:ie,data:{title:"Shares Account Dividends",breadcrumb:"Dividends",routeParamBreadcrumb:!1}}]},{path:"edit",data:{title:"Edit Shares Account",breadcrumb:"Edit",routeParamBreadcrumb:!1},component:gn,resolve:{sharesAccountAndTemplate:W}},{path:"actions/:name",data:{title:"Shares Account Actions",breadcrumb:"Actions",routeParamBreadcrumb:"name"},component:ya,resolve:{shareAccountActionData:X}}]}]}];let La=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[z,V,W,X],imports:[p.Bz.forChild(Pa),p.Bz]}),e})();var Oa=l(87734),Fa=l(35503),Na=l(78434);let wa=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[Oa.m,Fa.D,Na.o,La]}),e})()}}]);